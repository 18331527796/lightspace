webpackJsonp([1],{"+/TY":function(t,e){},"+liO":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADpElEQVRoQ+2ZWahNYRTHf7dISeHB9EAhpMxkVsYHY1EiorwYI3M8KErILGOSWXgwT5mVWZmVyJChhAeUlCj6a21999y9z977nH2Ou8tXu3PvOWv6f8Naa/+/ElI+SlIeP/8BOCvYAOgPNAXqOY9EXjvPI+AY8CaJ1c93BdoAA4G+QIeYAV0CzgCngTsxdf+K5wqgBjAdmAZUynD+E/jkPPq5uvNUyJD/DqwCVgIf4wLJBcBEC76h4+weoBk9Yp/Z4mgL9HYeT/a5gdgQB0RcAEuBWY6DC8A64FAcp45sZ2AGMMT5bhcwOqq9OABO2l6X7fvAGmBbVEchciOAuUAzk3sAtIxiOyqAX46xPbb3Y+/XkIDqAzuBro5caHyhAjbbLczoCmBmlJnJQ2YfMMz0TwH9stkKA6AZGWUG9gPD8wgsjupyOxvSWQbMDlLOBkDZZr0pXgG6xYkgAdndwEizMwnwzU5BAJTnrwNKlaqcg4CXCQQVx4RiOGuHWSm2k1+dCAKwGJhj3sYBm+N4TlBW2UlJQ2OJZapS5v0AqD24ZhX2NtAuwYByMXXA6oQqtupGqbbDD4Dy8aJyMPseWAV91f6ZDyxwZ8EPwEWgu+03dZhfc5m2hHUuW324CXTMBqCutb2S0anX6S8Pwz2TSiwvvKAyV8BNnT0iNGbFAtcFUCrXmAKsDQKgWZ8AqCWuWKzoIvr5AagV3whoov+MzBU4bm9V6nNqRjRcLLEPgGrDCWBAEAB1gc2Bp0CTCJHViSiXzdRj4H0EX0+AxsBDwOvNyqzAZ6AqUOa0Bzhwu9QIMQSKhPVkUrxhr61fgGpBK5B6AKnfQqk/xKlPo6oBXt/dBziXz8lMUFetjVocjclGJPjWgdrAOxPcDoxJMIh8TIk3mmoG1O68DcpC+v6osW2qfI2AV/l4Tkj3LtAKEI3Ty7Xpl3/VwInr0ZgHLEwoiFzNDAYOmrKYwNVhAGoBt4ycfQa0/sct9Xmgp3XJ7TOrdlAFFPsmFq7Mocl1GnPU0xncarpiJsRQlBpBACpbOyGmrDy81CsGsd/fogKQ3HhrXfX3v6ZVlN43+a1iWBOVamLLAywiN7XUogci1eSuByKTXt8CqFonwVqMtRahYPS6ByLzgkN1YgewFxD9F2dUAcS8KXjd2nijYBccngO/KyaRALp51KE/HIJCjdlQe/SO642iXDF5zlJ9yedOcGqvWf12SSovuuMc2oLIhlXigjhN0mjqAfwGDZPPMYw5F78AAAAASUVORK5CYII="},"3bFq":function(t,e){},"3oKX":function(t,e){},"6Vfi":function(t,e){},"7DPX":function(t,e){},"7XUC":function(t,e){},"9M5e":function(t,e,a){t.exports=a.p+"lightspace/img/jiangtai.0b55a3c.png"},"9jFT":function(t,e){},"AAB+":function(t,e){},BUjN:function(t,e){},BaGh:function(t,e){},BlSr:function(t,e,a){t.exports=a.p+"lightspace/img/girl.104498c.png"},FImn:function(t,e){},GC7q:function(t,e){},GHRL:function(t,e){},GoJ9:function(t,e){},M9r9:function(t,e){},N026:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(t){a("GC7q")},null,null).exports,r=a("/ocq"),o=a("mtWM"),l=a.n(o),c={data:function(){return{isCollapse:!1,menuList:[],activeIndex:"/home"}},methods:{toggleCollapse:function(){this.isCollapse=!this.isCollapse},getMenuList:function(){var t=new FormData;l()({method:"post",url:"/lightspace/school/menuList",data:t}).then(this.handleGetMenuListSucc.bind(this)).catch(function(t){console.log(t)})},handleGetMenuListSucc:function(t){if(200==t.data.status){this.menuList=t.data.data;t.data.data}else this.$message.error(t.data.msg),this.$router.push("/login")},saveNavState:function(t){this.activeIndex=t,console.log(this.activeIndex)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"home-container"},[a("el-aside",{attrs:{width:t.isCollapse?"64px":"200px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,"background-color":"#333744","text-color":"#fff","active-text-color":"#409eff",router:"","unique-opened":!0,collapse:t.isCollapse,"collapse-transition":!1}},[a("div",{staticClass:"toggle-button",on:{click:t.toggleCollapse}},[t._v(" |||")]),t._v(" "),a("el-menu-item",{attrs:{index:"/first"}},[a("i",{staticClass:"el-icon-star-on"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._v(" "),a("el-submenu",{attrs:{index:"/studentsetting"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-custom"}),t._v(" "),a("span",[t._v("学生管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/studentsetting"}},[a("i",{staticClass:"el-icon-star-on"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("学生管理")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/classsetting"}},[a("i",{staticClass:"el-icon-star-on"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("班级管理")])])],1)],2),t._v(" "),a("el-menu-item",{attrs:{index:"/recordsetting"}},[a("i",{staticClass:"el-icon-document"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("档案管理")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/analysis"}},[a("i",{staticClass:"el-icon-medal"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("数据分析")])]),t._v(" "),a("el-submenu",{attrs:{index:"/online"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-custom"}),t._v(" "),a("span",[t._v("智能排座")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/online"}},[a("i",{staticClass:"el-icon-star-on"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("在线排座")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/seatQuery"}},[a("i",{staticClass:"el-icon-star-on"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("座位查询")])])],1)],2)],1)],1),t._v(" "),a("el-main",[a("router-view")],1)],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("GoJ9")},null,null).exports,h={data:function(){return{username:"",password:""}},methods:{login:function(){var t=this,e=new FormData;e.append("loginName",this.username),e.append("password",this.password),l()({method:"post",data:e,url:"/lightspace/school/login"}).then(function(e){200==e.data.status?(window.sessionStorage.setItem("userName",e.data.data.userName),window.sessionStorage.setItem("schoolName",e.data.data.schoolName),window.sessionStorage.setItem("schoolId",e.data.data.schoolId),t.$store.commit("changeName",e.data.data.userName),t.$store.commit("changeSchool",e.data.data.schoolName),t.$router.push("/first"),t.$message.success("登录成功")):t.$message.error(e.data.msg)}).catch(function(t){console.log(t)})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login_wrap"},[a("div",{staticClass:"inner_wrap"},[a("div",{staticClass:"top_title"},[t._v("\n        青少年人工智能健康管理平台\n      ")]),t._v(" "),a("div",{staticClass:"second_title"},[t._v("--学校管理后台--")]),t._v(" "),a("div",{staticClass:"item_wrap"},[a("label",{staticClass:"username"},[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"user_input",domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"item_wrap"},[a("label",{staticClass:"username"},[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"user_input",domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("el-button",{staticClass:"login_btn",attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)])},staticRenderFns:[]};var m=a("VU/8")(h,g,!1,function(t){a("ONVd")},"data-v-f7f191c2",null).exports,p={name:"titleheader",props:{common:String},data:function(){return{username:""}},created:function(){this.username=window.sessionStorage.getItem("userName")},methods:{logout:function(){this.$router.push("/login")}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:24}},[a("el-card",{attrs:{shadow:"always"}},[a("el-row",{staticClass:"header_wrap"},[a("el-col",{attrs:{span:1}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v(" "+t._s(t.common))]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right","margin-right":"20px"},attrs:{span:16}},[t._v(" 当前用户："+t._s(t.username))]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"middle"},on:{click:t.logout}},[t._v(" 退出")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(p,v,!1,function(t){a("FImn")},"data-v-3baa5032",null).exports,_={name:"currentschool",created:function(){this.schoolName=window.sessionStorage.getItem("schoolName")}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"schoolBox"},[e("div",{staticClass:"schoolNow"},[this._v("当前校区")]),this._v(" "),e("div",{staticClass:"schoolName"},[this._v(" "+this._s(this.schoolName))])])])},staticRenderFns:[]};var w=a("VU/8")(_,b,!1,function(t){a("vPes")},"data-v-25c77b5c",null).exports,C=a("NYxO"),y={name:"year",created:function(){this.getGradeList()},data:function(){return{options:[],curYear:""}},methods:{getGradeList:function(){new FormData;l()({method:"post",url:"/lightspace/school/getAllSemester"}).then(this.handleGetgetAllSemesterSucc.bind(this)).catch(function(t){console.log(t)})},handleGetgetAllSemesterSucc:function(t){200==t.data.status&&(this.options=t.data.data)}},computed:{year:{get:function(){return this.$store.state.year},set:function(t){this.$store.commit("changeYear",t)}}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"schoolBox"},[a("div",{staticClass:"schoolNow"},[t._v("学年")]),t._v(" "),a("div",{staticClass:"gradeNow"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},t._l(t.options,function(t){return a("el-option",{key:t.year,attrs:{label:t.year,value:t.year}})}),1)],1)])},staticRenderFns:[]};var x=a("VU/8")(y,S,!1,function(t){a("N026")},"data-v-b7dbb09a",null).exports,A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"schoolBox"},[a("div",{staticClass:"schoolNow"},[t._v("学期")]),t._v(" "),a("div",{staticClass:"gradeNow"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1)])},staticRenderFns:[]};var R=a("VU/8")({name:"semester",data:function(){return{options:[{label:"暑假",id:0},{label:"上学期",id:1},{label:"寒假",id:2},{label:"下学期",id:3}],cursemester:""}},methods:{},computed:{semester:{get:function(){return this.$store.state.semester},set:function(t){this.$store.commit("changeSemester",t)}}}},A,!1,function(t){a("7XUC")},"data-v-afc2b5c0",null).exports,k=a("XLwt"),D=a.n(k),L={name:"analysis",data:function(){return{tableData:[],options:[],hasChildren:!0,option:{},yData:[],dialogVisible:!1,grade:"",year:"",semester:"",changeSem:"",user:"",gradeSum:0,gradeTested:0,gradeBad:0,gradePercentage:"",classList:{},classId:"",classData:[],studentList:[],loading:!0,gradeClass:"",gradeAvgList:[],activeName:"number"}},mounted:function(){this.year=this.$store.state.year,this.user=this.$store.state.name,this.semester=this.$store.state.semester},computed:{nowYear:function(){return this.$store.state.year},name:function(){return this.$store.state.name},nowSemester:function(){return this.$store.state.semester}},watch:{nowYear:function(t){this.year=t},nowSemester:function(t){this.semester=t}},methods:{handleClick:function(t,e){this.activeName=t.name,"number"==this.activeName?this.drawLine(this.yData):"average"==this.activeName&&this.drawAverage(this.gradeAvgList)},handleBeforeClose:function(){this.dialogVisible=!1,this.grade="",this.classId="",this.classData=[]},handleConfirm:function(){this.dialogVisible=!1,this.grade="",this.classId="",this.classData=[]},handleReport:function(t){t.classId?this.classId=t.classId:this.grade=t.name,this.dialogVisible=!0,1==this.semester?this.changeSem="上学期":2==this.semester?this.changeSem="下学期":3==this.semester?this.changeSem="寒假":0==this.semester&&(this.changeSem="暑假"),this.getDetailList()},openFullScreen:function(){return this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"})},closeFullScreen:function(t){t.close()},getDetailList:function(){var t=this,e="",a=new FormData;this.classId?(e="/lightspace/school/ViewClassReport",a.append("classId",this.classId)):(e="/lightspace/school/ViewGradeReport",a.append("grade",this.grade)),a.append("year",this.year),a.append("semester",this.semester),this.openFullScreen(),l()({method:"post",data:a,url:e}).then(this.handlegetTotalSucc.bind(this)).catch(function(e){t.closeFullScreen(t.openFullScreen()),console.log(e)})},handlegetTotalSucc:function(t){this.closeFullScreen(this.openFullScreen()),t.data.data?(t&&(t=t.data.data),this.gradeSum=t.gradeSum,this.gradeTested=t.gradeTested,this.gradeBad=t.gradeBad,this.gradePercentage=t.gradePercentage,this.classId?(this.classData=t.viewGradeReport,this.studentList=t.studentList,this.gradeClass=t.name,this.studentList.forEach(function(t,e){1==t.gender?t.gender="女":t.gender="男"})):this.classList=t.classList):this.$message.error("暂无数据")},getDataList:function(t,e){var a=this,s=new URLSearchParams;s.append("year",t),s.append("semester",e),this.openFullScreen(),l()({method:"post",url:"/lightspace/school/recordSurvey",data:s}).then(this.handleGetDataListSucc.bind(this)).catch(function(t){console.log(t),a.closeFullScreen(a.openFullScreen())})},handleGetDataListSucc:function(t){this.closeFullScreen(this.openFullScreen()),t.data.data?(this.tableData=t.data.data.recordSurvey,this.yData=t.data.data.gradeMyopiaList,this.gradeAvgList=t.data.data.gradeAvgList,this.drawLine(this.yData)):(this.$message.error("暂无数据"),this.tableData=[],this.yData=[],this.drawLine(this.yData))},drawLine:function(t){var e=D.a.init(this.$refs.badTotal);this.option={color:"#568cd3",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["本校"],selectedMode:!1},xAxis:{data:["一年级","二年级","三年级","四年级","五年级","六年级"]},yAxis:[{type:"value",min:0,interval:20,show:!0,axisLabel:{formatter:"{value}"}}],series:[{name:"本校",type:"bar",data:t,barWidth:30,itemStyle:{normal:{label:{type:"value",show:!0,position:"top",formatter:"{c}",textStyle:{fontSize:14,color:"#4665b0"}}}}}]},e.setOption(this.option)},drawAverage:function(t){var e=D.a.init(this.$refs.badTotal);this.option={tooltip:{trigger:"axis",formatter:function(t){}},legend:{data:["本校","全国"],selectedMode:!1},xAxis:{boundaryGap:!1,data:["一年级","二年级","三年级","四年级","五年级","六年级"]},yAxis:{min:.1,max:2,interval:.2,right:10,axisLine:{show:!1,fontWeight:"bolder"},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#113d5e"}}},series:[{name:"本校",type:"line",color:"#568cd3",smooth:!0,data:t}]},e.setOption(this.option)}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"name","header-cell-style":{background:"#eff4fb"},border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{align:"left",width:"40"},scopedSlots:t._u([{key:"default",fn:function(t){}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"年级"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"good",label:"好视力"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"mild",label:"轻度不良"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"moderate",label:"中度不良"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"serious",label:"重度不良"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"myopia",label:"近视人数"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"all",label:"总计人数"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"myopiaRate",label:"近视率"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.handleReport(e.row)}}},[t._v("查看报表")])]}}])})],1),t._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"近视人数",name:"number"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"平均视力",name:"average"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{ref:"badTotal",staticStyle:{width:"100%",height:"400px"}})])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,width:"80%","before-close":t.handleBeforeClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleConfirm}},[t._v("返回")])],1)],1),t._v(" "),t.classData.length?t._e():a("div",{staticClass:"inner_title"},[t._v(t._s(t.name)+"账号"+t._s(t.grade)+"年级视力统计("+t._s(t.nowYear)+t._s(t.changeSem)+")")]),t._v(" "),t.classData.length?a("div",{staticClass:"inner_title"},[t._v(t._s(t.name)+"账号"+t._s(t.gradeClass)+"视力统计("+t._s(t.nowYear)+t._s(t.changeSem)+")")]):t._e(),t._v(" "),t.classData.length?t._e():a("div",{staticClass:"second_title"},[t._v("单位:"+t._s(t.name)+"账号"+t._s(t.grade)+"年级视力统计("+t._s(t.nowYear)+t._s(t.changeSem)+")")]),t._v(" "),t.classData.length?a("div",{staticClass:"second_title"},[t._v("单位:"+t._s(t.name)+"账号"+t._s(t.gradeClass)+"视力统计("+t._s(t.nowYear)+t._s(t.changeSem)+")")]):t._e(),t._v(" "),a("div",{staticClass:"innerbox"},[a("div",{staticClass:"inner_item",staticStyle:{padding:"0 10px 0 0"}},[t._v("应测："+t._s(t.gradeSum)+"人")]),t._v(" "),a("div",{staticClass:"inner_item"},[t._v("实测："+t._s(t.gradeTested)+"人")]),t._v(" "),a("div",{staticClass:"inner_item"},[t._v("视力不良："+t._s(t.gradeBad)+"人")])]),t._v(" "),a("h6",{staticClass:"badpercent"},[t._v("不良率: "+t._s(t.gradePercentage))]),t._v(" "),t.classData.length?t._e():a("div",{staticClass:"detail_title"},[t._v("详细数据")]),t._v(" "),t.classData.length?a("div",{staticClass:"detail_title"},[t._v("数据总览")]):t._e(),t._v(" "),t._l(this.classList,function(e,s){return t.classData.length?t._e():a("div",{key:e.id},[a("div",{staticClass:"detail_title"},[t._v(t._s(t.grade)+"年级"+t._s(e.name))]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.viewGradeReportVO,border:"","header-cell-style":{background:"#eff4fb"}}},[a("el-table-column",{attrs:{prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all",label:"检查人数",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"good",label:"好视力",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mild",label:"轻度不良"}}),t._v(" "),a("el-table-column",{attrs:{prop:"moderate",label:"中度不良"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serious",label:"重度不良"}}),t._v(" "),a("el-table-column",{attrs:{prop:"percentage",label:"不良率"}})],1)],1)}),t._v(" "),t.classData.length?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.classData,border:"","header-cell-style":{background:"#eff4fb"}}},[a("el-table-column",{attrs:{prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all",label:"检查人数",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"good",label:"好视力",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mild",label:"轻度不良"}}),t._v(" "),a("el-table-column",{attrs:{prop:"moderate",label:"中度不良"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serious",label:"重度不良"}}),t._v(" "),a("el-table-column",{attrs:{prop:"percentage",label:"不良率"}})],1):t._e(),t._v(" "),t.classData.length?a("div",{staticClass:"detail_title"},[t._v("详细数据")]):t._e(),t._v(" "),t.classData.length?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.studentList,border:"","header-cell-style":{background:"#eff4fb"}}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"visionLeftStr",label:"左眼视力",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"visionRightStr",label:"右眼视力"}})],1):t._e()],2)],1)},staticRenderFns:[]};var E={name:"level",data:function(){return{option:{},yData:[],good:[],light:[],middle:[],serious:[]}},mounted:function(){this.drawLine()},methods:{openFullScreen:function(){return this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"})},closeFullScreen:function(t){t.close()},drawLine:function(t,e,a,s){var i=D.a.init(this.$refs.badTotal);this.option={color:["#55b99d","#de9f3f","#db4c28","#8f0b11"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["好视力","轻度不良","中度不良","重度不良"],selectedMode:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["一年级","二年级","三年级","四年级","五年级","六年级"]},series:[{name:"好视力",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:t},{name:"轻度不良",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:e},{name:"中度不良",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:a},{name:"重度不良",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:s}]},i.setOption(this.option)},getBadTotal:function(t,e){var a=this;this.openFullScreen();var s=new FormData;s.append("year",t),s.append("semester",e),l()({method:"post",data:s,url:"/lightspace/school/recordVisionGrade"}).then(this.handlegetBadTotalSucc.bind(this)).catch(function(t){console.log(t),a.closeFullScreen(a.openFullScreen())})},handlegetBadTotalSucc:function(t){this.closeFullScreen(this.openFullScreen()),t.data.data?(this.good=t.data.data[0],this.light=t.data.data[1],this.middle=t.data.data[2],this.serious=t.data.data[3],this.drawLine(this.good,this.light,this.middle,this.serious)):(this.good=[],this.light=[],this.middle=[],this.serious=[],this.drawLine(this.good,this.light,this.middle,this.serious))}}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title_total"},[this._v("视力分级统计")]),this._v(" "),e("el-row",[e("el-col",{attrs:{span:20,offset:2}},[e("div",{ref:"badTotal",staticStyle:{width:"100%",height:"400px",margin:"0 auto"}})])],1)],1)},staticRenderFns:[]};var N={mounted:function(){this.createdGetInfo(),this.getLevelInfo()},components:{titleHeader:f,currentSchool:w,analasis:a("VU/8")(L,F,!1,function(t){a("R+pa")},"data-v-6c3b7c09",null).exports,year:x,semester:R,level:a("VU/8")(E,I,!1,function(t){a("3bFq")},"data-v-555c9a7c",null).exports},data:function(){return{common:"数据概览",curSemester:1,curYear:"2020 - 2021"}},methods:{createdGetInfo:function(){this.$refs.analysis.getDataList(this.curYear,this.curSemester)},getLevelInfo:function(){this.$refs.level.getBadTotal(this.curYear,this.curSemester)}},computed:{newYear:function(){return this.$store.state.year},newSemester:function(){return this.$store.state.semester}},watch:{newYear:function(t){this.curYear=t,this.createdGetInfo(),this.getLevelInfo()},newSemester:function(t){this.curSemester=t,this.createdGetInfo(),this.getLevelInfo()}}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("title-header",{attrs:{common:this.common}}),this._v(" "),e("el-card",[e("el-row",[e("el-col",{attrs:{span:6}},[e("current-school")],1),this._v(" "),e("el-col",{attrs:{span:6,offset:1}},[e("year")],1),this._v(" "),e("el-col",{attrs:{span:6,offset:1}},[e("semester")],1)],1),this._v(" "),e("analasis",{ref:"analysis"}),this._v(" "),e("level",{ref:"level"})],1)],1)},staticRenderFns:[]};var P=a("VU/8")(N,B,!1,function(t){a("7DPX")},null,null).exports,T={created:function(){this.getOptions()},data:function(){return{options:[],value:"",inputName:"",classId:0,show:!0}},methods:{handleReset:function(){this.inputName="",this.classId=0,this.value="",this.$emit("recordList",this.classId,this.inputName)},handleInputName:function(t){this.inputName=t},handleClassChange:function(t){this.classId=t},getOptions:function(){new FormData;l()({method:"post",url:"/lightspace/school/getAllClass"}).then(this.handleGetOptionsSucc.bind(this)).catch(function(t){console.log(t)})},handleGetOptionsSucc:function(t){200==t.data.status&&(this.options=t.data.data)},searchStudent:function(){this.$emit("recordList",this.classId,this.inputName)}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("el-row",{staticClass:"searchBox",attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("姓名")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"姓名"},on:{input:t.handleInputName},model:{value:t.inputName,callback:function(e){t.inputName=e},expression:"inputName"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("班级选择")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleClassChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.className,value:t.id}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:t.searchStudent}},[t._v("查询")])],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleReset}},[t._v("重置")])],1)],1):t._e()],1)},staticRenderFns:[]};var G=a("VU/8")(T,$,!1,function(t){a("rNuS")},"data-v-384ba0b5",null).exports,z=a("Xxa5"),M=a.n(z),H=a("exGp"),V=a.n(H),O={name:"studentContent",created:function(){this.getInfo("",""),this.getOptions()},data:function(){var t=function(t,e,a){""===e?a(new Error("请输入内容")):/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,2})?$/g.test(e)?a():a(new Error("请输入数字"))};return{content:[],pageSize:10,size:5,total:0,totalElements:0,number:1,page:1,classId:"",editStudentVisible:!1,editStudentForm:{sittingHeight:"",correct:"",gender:"",height:"",weight:"",name:"",birthday:"",classId:"",studentId:""},editStudentRules:{name:{required:!0,message:"请输入姓名",trigger:"blur"},correct:{required:!0,type:"number",message:"请输入是否矫正",trigger:"blur"},gender:{required:!0,type:"number",message:"请输入性别",trigger:"blur"},height:{required:!0,validator:t,message:"请输入身高(m)",trigger:"blur"},weight:{required:!0,validator:t,message:"请输入体重(kg)",trigger:"blur"},sittingHeight:{required:!0,validator:t,message:"请输入坐姿高度(cm)",trigger:"blur"},classesId:{required:!0,message:"请选择学校班级",trigger:"change"},birthday:{type:"date",required:!0,message:"请选择日期",trigger:"change"}},options:[]}},methods:{getInfo:function(t,e){t&&!e?(this.type="class",this.id=t):t&&e?(this.type="student",this.name=e,this.id=""):!this.classId&&e?(this.type="student",this.name=e,this.id=""):(this.type="",this.id=""),this.page=1,this.getDataList()},getDataList:function(){var t=new FormData;t.append("type",this.type),t.append("id",this.id),t.append("page",this.page),t.append("name",this.name),l()({method:"post",data:t,url:"/lightspace/school/getStudent"}).then(this.handleGetDataListSucc.bind(this)).catch(function(t){console.log(t)})},handleGetDataListSucc:function(t){200==t.data.status?(t&&(t=t.data.data),this.content=t.content,this.totalElements=t.totalElements,this.size=t.size,this.number=t.number+1,this.content.length&&this.content.forEach(function(t){0==t.gender?t.gender="男":t.gender="女"})):(this.$message.error(t.data.msg),this.content=[])},handleCurrentChange:function(t){this.page=t,this.getDataList()},handleClose:function(){this.editStudentVisible=!1},handleClassChange:function(t){this.classId=t},dateChange:function(t){t&&(this.startTime=t.toString().split(",")[0],this.endTime=t.toString().split(",")[1],this.birthday=t.toLocaleString().split(" ")[0])},editStudent:function(t){this.studentId=t;var e=new URLSearchParams;e.append("id",t),l()({method:"post",url:"/lightspace/school/editStudent",data:e}).then(this.handleEditStuSucc.bind(this)).catch(function(t){console.log(t)})},handleEditStuSucc:function(t){console.log(t),10204===t.data.status?(this.$message.error(t.data.msg),this.$router.push("/login")):200==t.data.status&&(this.editStudentForm=t.data.data,this.editStudentVisible=!0)},sumitEditStudent:function(){var t=this;this.$refs.studentFormRef.validate(function(e){if(!e)return t.$message.error("验证失败");var a=new FormData;a.append("id",t.studentId),a.append("classId",t.classId),a.append("sittingHeight",t.editStudentForm.sittingHeight),a.append("correct",t.editStudentForm.correct),a.append("gender",t.editStudentForm.gender),a.append("height",t.editStudentForm.height),a.append("weight",t.editStudentForm.weight),a.append("name",t.editStudentForm.name),a.append("birthday",t.birthday),l()({method:"post",url:"/lightspace/school/saveStudent",data:a}).then(t.handleEditSaveSucc.bind(t)).catch(function(t){console.log(t)})})},handleEditSaveSucc:function(t){console.log(t),10204===t.data.status?(this.$message.error(t.data.msg),this.$router.push("/login")):200==t.data.status&&(this.editStudentVisible=!1,this.$message.success("更新学生信息成功"),this.getDataList())},deleteStudent:function(t){var e=this;return V()(M.a.mark(function a(){var s;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$confirm("此操作将永久删除该学生 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(t){return t});case 2:if("confirm"===a.sent){a.next=5;break}return a.abrupt("return",e.$message.info("已经取消删除"));case 5:(s=new FormData).append("id",t),l()({method:"post",url:"/lightspace/school/deleteStudent",data:s}).then(e.handleDeleteClssSucc.bind(e)).catch(function(t){console.log(t)});case 8:case"end":return a.stop()}},a,e)}))()},handleDeleteClssSucc:function(t){200==t.data.status&&(this.$message.success("删除班级成功"),this.getDataList())},getOptions:function(){new FormData;l()({method:"post",url:"/lightspace/school/getAllClass"}).then(this.handleGetOptionsSucc.bind(this)).catch(function(t){console.log(t)})},handleGetOptionsSucc:function(t){200==t.data.status&&(this.options=t.data.data)}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:this.content,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"学校",prop:"schoolName"}}),t._v(" "),a("el-table-column",{attrs:{label:"班级",prop:"classesName"}}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"性别",prop:"gender"}}),t._v(" "),a("el-table-column",{attrs:{label:"最近一次检测时间",prop:"lastTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.editStudent(e.row.id)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.deleteStudent(e.row.id)}}})]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":this.number,layout:"prev, pager, next","page-size":this.size,total:this.totalElements},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"添加学生",visible:t.editStudentVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.editStudentVisible=e}}},[a("el-form",{ref:"studentFormRef",attrs:{model:t.editStudentForm,rules:t.editStudentRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属学校班级",prop:"classesId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleClassChange},model:{value:t.editStudentForm.classesId,callback:function(e){t.$set(t.editStudentForm,"classesId",e)},expression:"editStudentForm.classesId"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.className,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"学生姓名",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:t.editStudentForm.name,callback:function(e){t.$set(t.editStudentForm,"name",e)},expression:"editStudentForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio",{attrs:{size:"medium",border:"",label:0},model:{value:t.editStudentForm.gender,callback:function(e){t.$set(t.editStudentForm,"gender",e)},expression:"editStudentForm.gender"}},[t._v("男")]),t._v(" "),a("el-radio",{attrs:{size:"medium",border:"",label:1},model:{value:t.editStudentForm.gender,callback:function(e){t.$set(t.editStudentForm,"gender",e)},expression:"editStudentForm.gender"}},[t._v("女")])],1),t._v(" "),a("el-form-item",{attrs:{label:"出生日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},on:{blur:t.dateChange},model:{value:t.editStudentForm.birthday,callback:function(e){t.$set(t.editStudentForm,"birthday",e)},expression:"editStudentForm.birthday"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"坐姿高度(米)",prop:"sittingHeight"}},[a("el-input",{attrs:{clearable:""},model:{value:t.editStudentForm.sittingHeight,callback:function(e){t.$set(t.editStudentForm,"sittingHeight",e)},expression:"editStudentForm.sittingHeight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"身高(米)"}},[a("el-input",{attrs:{clearable:""},model:{value:t.editStudentForm.height,callback:function(e){t.$set(t.editStudentForm,"height",e)},expression:"editStudentForm.height"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"体重(KG)"}},[a("el-input",{attrs:{clearable:""},model:{value:t.editStudentForm.weight,callback:function(e){t.$set(t.editStudentForm,"weight",e)},expression:"editStudentForm.weight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否矫正"}},[a("el-radio",{attrs:{size:"medium",border:"",label:1},model:{value:t.editStudentForm.correct,callback:function(e){t.$set(t.editStudentForm,"correct",e)},expression:"editStudentForm.correct"}},[t._v("已矫正")]),t._v(" "),a("el-radio",{attrs:{size:"medium",border:"",label:0},model:{value:t.editStudentForm.correct,callback:function(e){t.$set(t.editStudentForm,"correct",e)},expression:"editStudentForm.correct"}},[t._v("未校正")])],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sumitEditStudent}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var q={created:function(){this.getOptions()},components:{titleHeader:f,currentSchool:w,studentSearch:G,studentContent:a("VU/8")(O,U,!1,function(t){a("SoN4")},null,null).exports},data:function(){var t=function(t,e,a){""===e?a(new Error("请输入内容")):/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,2})?$/g.test(e)?a():a(new Error("请输入数字"))};return{common:"学生管理",addStudentVisible:!1,studentInfo:[],stu_cat:[],addStudentForm:{sittingHeight:"",correct:"",gender:"",height:"",weight:"",name:"",birthday:"",region:""},addStudentRules:{name:{required:!0,message:"请输入姓名",trigger:"blur"},birthday:{type:"date",required:!0,message:"请选择日期",trigger:"change"},correct:{required:!0,type:"number",message:"请输入是否矫正",trigger:"blur"},gender:{required:!0,type:"number",message:"请输入性别",trigger:"blur"},height:{required:!0,validator:t,message:"请输入身高(m)",trigger:"blur"},weight:{required:!0,validator:t,message:"请输入体重(kg)",trigger:"blur"},sittingHeight:{required:!0,validator:t,message:"请输入坐姿高度(cm)",trigger:"blur"},region:{required:!0,message:"请选择学校班级",trigger:"change"}},options:[]}},methods:{handleChange:function(t,e){this.$refs.stuContent.getInfo(t,e)},showAddDialog:function(){this.addStudentVisible=!0},handleClassChange:function(t){this.classId=t},dateChange:function(t){t&&(this.startTime=t.toString().split(",")[0],this.endTime=t.toString().split(",")[1],this.birthday=t.toLocaleString().split(" ")[0])},handleClose:function(){this.addStudentVisible=!1,this.$refs.studentFormRef.resetFields()},sumitAddStudent:function(){var t=this;this.$refs.studentFormRef.validate(function(e){if(!e)return t.$message.error("验证失败");var a=new FormData;a.append("classId",t.classId),a.append("sittingHeight",t.addStudentForm.sittingHeight),a.append("correct",t.addStudentForm.correct),a.append("gender",t.addStudentForm.gender),a.append("height",t.addStudentForm.height),a.append("weight",t.addStudentForm.weight),a.append("name",t.addStudentForm.name),a.append("birthday",t.birthday),l()({method:"post",url:"/lightspace/school/addStudent",data:a}).then(t.handleAddStuSucc.bind(t)).catch(function(t){console.log(t)})})},handleAddStuSucc:function(t){10204===t.data.status?(this.$message.error(t.data.msg),this.$router.push("/login")):200==t.data.status&&(this.addStudentVisible=!1,this.$message.success("添加学生信息成功"),this.$refs.studentFormRef.resetFields(),this.$refs.stuContent.getInfo())},getOptions:function(){new FormData;l()({method:"post",url:"/lightspace/school/getAllClass"}).then(this.handleGetOptionsSucc.bind(this)).catch(function(t){console.log(t)})},handleGetOptionsSucc:function(t){200==t.data.status&&(this.options=t.data.data)}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("title-header",{attrs:{common:t.common}}),t._v(" "),a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("current-school")],1),t._v(" "),a("el-col",{attrs:{span:2,offset:12}},[a("el-button",{attrs:{type:"success"},on:{click:t.showAddDialog}},[t._v("新增学生")])],1)],1),t._v(" "),a("studentSearch",{on:{recordList:t.handleChange}}),t._v(" "),a("student-content",{ref:"stuContent"})],1),t._v(" "),a("el-dialog",{attrs:{title:"添加学生",visible:t.addStudentVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.addStudentVisible=e}}},[a("el-form",{ref:"studentFormRef",attrs:{model:t.addStudentForm,rules:t.addStudentRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属学校班级",prop:"region"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleClassChange},model:{value:t.addStudentForm.region,callback:function(e){t.$set(t.addStudentForm,"region",e)},expression:"addStudentForm.region"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.className,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"学生姓名",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:t.addStudentForm.name,callback:function(e){t.$set(t.addStudentForm,"name",e)},expression:"addStudentForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio",{attrs:{size:"medium",border:"",label:0},model:{value:t.addStudentForm.gender,callback:function(e){t.$set(t.addStudentForm,"gender",e)},expression:"addStudentForm.gender"}},[t._v("男")]),t._v(" "),a("el-radio",{attrs:{size:"medium",border:"",label:1},model:{value:t.addStudentForm.gender,callback:function(e){t.$set(t.addStudentForm,"gender",e)},expression:"addStudentForm.gender"}},[t._v("女")])],1),t._v(" "),a("el-form-item",{attrs:{label:"出生日期",prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},on:{change:t.dateChange},model:{value:t.addStudentForm.birthday,callback:function(e){t.$set(t.addStudentForm,"birthday",e)},expression:"addStudentForm.birthday"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"坐姿高度(米)",prop:"sittingHeight"}},[a("el-input",{attrs:{clearable:""},model:{value:t.addStudentForm.sittingHeight,callback:function(e){t.$set(t.addStudentForm,"sittingHeight",e)},expression:"addStudentForm.sittingHeight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"身高(米)"}},[a("el-input",{attrs:{clearable:""},model:{value:t.addStudentForm.height,callback:function(e){t.$set(t.addStudentForm,"height",e)},expression:"addStudentForm.height"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"体重(KG)"}},[a("el-input",{attrs:{clearable:""},model:{value:t.addStudentForm.weight,callback:function(e){t.$set(t.addStudentForm,"weight",e)},expression:"addStudentForm.weight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否矫正"}},[a("el-radio",{attrs:{size:"medium",border:"",label:1},model:{value:t.addStudentForm.correct,callback:function(e){t.$set(t.addStudentForm,"correct",e)},expression:"addStudentForm.correct"}},[t._v("已矫正")]),t._v(" "),a("el-radio",{attrs:{size:"medium",border:"",label:0},model:{value:t.addStudentForm.correct,callback:function(e){t.$set(t.addStudentForm,"correct",e)},expression:"addStudentForm.correct"}},[t._v("未校正")])],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sumitAddStudent}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var W=a("VU/8")(q,Q,!1,function(t){a("BaGh")},null,null).exports,Y={name:"classdetail",created:function(){this.getGradeList()},data:function(){return{gradeList:[],status:!1,input:0,nowGrade:"",currentRow:{},expands:[],showAdd:!1}},methods:{editClass:function(t){console.log(t)},deleteClass:function(t){var e=this;return V()(M.a.mark(function a(){var s;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$confirm("此操作将永久删除该班级 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(t){return t});case 2:if("confirm"===a.sent){a.next=5;break}return a.abrupt("return",e.$message.info("已经取消删除"));case 5:(s=new FormData).append("id",t),l()({method:"post",url:"/lightspace/school/deleteClass",data:s}).then(e.handleDeleteClssSucc.bind(e)).catch(function(t){console.log(t)});case 8:case"end":return a.stop()}},a,e)}))()},handleDeleteClssSucc:function(t){200==t.data.status&&(this.$message.success("删除班级成功"),this.getGradeList())},toggleRowExpansion:function(t){this.expands=[],this.expands.push(t.name)},handleInput:function(t){this.input=t},resetInput:function(){this.input=0},handleAddClass:function(t){this.showAdd=!0,this.grade=t},saveNewClass:function(t){var e=new FormData;if(!this.grade)return this.$message.warning("请先选择新建班级");e.append("grade",this.nowGrade),e.append("classNumber",this.input),l()({method:"post",data:e,url:"/lightspace/school/addClass"}).then(this.handleAddClassSucc.bind(this)).catch(function(t){console.log(t)})},handleAddClassSucc:function(t){console.log(t),200==t.data.status?(this.$message.success("添加班级成功"),t.data.data&&(this.gradeList=t.data.data,this.input="")):10207==t.data.status&&this.$message.error(t.data.msg)},clickTable:function(t,e,a){this.nowGrade=t.name,this.currentRow=t,this.$refs.refTable.toggleRowExpansion(t)},getGradeList:function(){new FormData;l()({method:"post",url:"/lightspace/school/classList"}).then(this.handleGetGradeListSucc.bind(this)).catch(function(t){console.log(t)})},handleGetGradeListSucc:function(t){t.data.data&&(this.gradeList=t.data.data)}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{ref:"refTable",staticStyle:{width:"100%"},attrs:{data:t.gradeList,stripe:""},on:{"row-click":t.clickTable}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[a("el-col",{attrs:{span:16,offset:8}},[a("el-table",{attrs:{border:"",data:e.row.children,stripe:"","show-header":t.status}},[a("el-table-column",{attrs:{align:"center",prop:"classNumber"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.editClass(e.row.id)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.deleteClass(e.row.id)}}})]}}],null,!0)})],1),t._v(" "),a("div",{staticClass:"addClass"},[a("el-input",{attrs:{width:"300px",placeholder:"添加班级",padding:"0"},on:{input:t.handleInput},model:{value:t.input,callback:function(e){t.input=t._n(e)},expression:"input"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"middle",icon:"el-icon-check"},on:{click:t.saveNewClass}}),t._v(" "),a("el-button",{attrs:{type:"info",size:"middle",icon:"el-icon-close"},on:{click:t.resetInput}})],1)],1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"年级",align:"center",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"班级个数",align:"center",prop:"number"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"middle"},on:{click:function(a){return t.handleAddClass(e.row.name)}}},[t._v("新增班级")])]}}])})],1)],1)},staticRenderFns:[]};var J={components:{titleHeader:f,currentSchool:w,classDetail:a("VU/8")(Y,K,!1,function(t){a("AAB+")},"data-v-17e2dffc",null).exports},data:function(){return{common:"班级管理"}}},X={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("title-header",{attrs:{common:this.common}}),this._v(" "),e("el-card",[e("current-school"),this._v(" "),e("class-detail")],1)],1)},staticRenderFns:[]};var Z=a("VU/8")(J,X,!1,function(t){a("M9r9")},null,null).exports,j={name:"currentschool",created:function(){this.schoolName=window.sessionStorage.getItem("schoolName")}},tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"schoolBox"},[e("div",{staticClass:"schoolNow"},[this._v("当前校区")]),this._v(" "),e("div",{staticClass:"schoolName"},[this._v(" "+this._s(this.schoolName))])])])},staticRenderFns:[]};var et=a("VU/8")(j,tt,!1,function(t){a("dWjc")},"data-v-bfc1e3d2",null).exports,at={created:function(){this.getOptions()},data:function(){return{options:[],value:"",inputName:"",classId:0,show:!0}},methods:{handleReset:function(){this.inputName="",this.classId=0,this.value="",this.$emit("recordList",this.classId,this.inputName)},handleInputName:function(t){this.inputName=t},handleClassChange:function(t){this.classId=t},getOptions:function(){new FormData;l()({method:"post",url:"/lightspace/school/getAllClass"}).then(this.handleGetOptionsSucc.bind(this)).catch(function(t){console.log(t)})},handleGetOptionsSucc:function(t){200==t.data.status&&(this.options=t.data.data)},searchStudent:function(){this.$emit("recordList",this.classId,this.inputName)}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("el-row",{staticClass:"searchBox",attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("姓名")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"姓名"},on:{input:t.handleInputName},model:{value:t.inputName,callback:function(e){t.inputName=e},expression:"inputName"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("班级选择")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleClassChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.className,value:t.id}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:t.searchStudent}},[t._v("查询")])],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleReset}},[t._v("重置")])],1)],1):t._e()],1)},staticRenderFns:[]};var it=a("VU/8")(at,st,!1,function(t){a("3oKX")},"data-v-59a78ce6",null).exports,nt=a("bOdI"),rt=a.n(nt),ot={name:"card",created:function(){this.getInfo("","")},data:function(){var t;return t={type:"",id:"",name:"",url:"/lightspace/school/screeningList",activeName:"luo",content:[],pageSize:10,size:5,total:0,totalElements:0,number:1,page:1,studentId:"",stucontent:[],wearstucontent:[],stupageSize:10,stusize:5,stutotal:0,stutotalElements:0,basepageSize:10,basesize:5,basetotal:0,basetotalElements:0,basenumber:1,basepage:1,stunumber:1,stupage:1,showHistory:!1,showWearHistory:!1},rt()(t,"wearstucontent",[]),rt()(t,"wearstupageSize",10),rt()(t,"wearstusize",5),rt()(t,"wearstutotal",0),rt()(t,"wearstutotalElements",0),rt()(t,"wearstunumber",1),rt()(t,"wearstupage",1),rt()(t,"delType",""),rt()(t,"showSearch",!0),t},methods:{handleClick:function(t,e){this.activeName=t.name,this.showHistory=!1,this.showWearHistory=!1,this.stupage=1,this.wearstupage=1,"luo"==t.name?this.url="/lightspace/school/screeningList":"wear"==t.name?this.url="/lightspace/school/screeningWearList":"base"==t.name&&(this.url="/lightspace/school/getStudent"),this.page=1,this.getDataList(),this.$emit("showSearch",!0)},handleCurrentChange:function(t){this.page=t,this.getDataList()},handleHistoryCurrentChange:function(t){this.stupage=t,this.getSudentHistory()},handleWearHistoryCurrentChange:function(t){this.wearstupage=t,this.getWearSudentHistory()},getInfo:function(t,e){t&&!e?(this.type="class",this.id=t):t&&e?(this.type="student",this.name=e,this.id=""):!this.classId&&e?(this.type="student",this.name=e,this.id=""):(this.type="",this.id=""),this.page=1,this.getDataList()},getDataList:function(){var t=new FormData;t.append("type",this.type),t.append("id",this.id),t.append("page",this.page),t.append("name",this.name),l()({method:"post",data:t,url:this.url}).then(this.handleGetDataListSucc.bind(this)).catch(function(t){console.log(t)})},handleGetDataListSucc:function(t){200==t.data.status?(t&&(t=t.data.data),this.content=t.content,this.totalElements=t.totalElements,this.size=t.size,this.number=t.number+1,this.content.length&&this.content.forEach(function(t){t.lastTime=t.date+"  "+t.time})):(this.$message.error(t.data.msg),this.content=[])},showStudentInfo:function(t,e){this.showSearch=!1,this.$emit("showSearch",this.showSearch),"luo"==t?(this.showHistory=!0,this.studentId=e,this.getSudentHistory("")):"wear"==t&&(this.showWearHistory=!0,this.studentId=e,this.getWearSudentHistory())},getWearSudentHistory:function(){var t=new FormData;t.append("page",this.wearstupage),t.append("studentId",this.studentId),l()({method:"post",data:t,url:"/lightspace/school/screeningWearByStudentId"}).then(this.handleGetWearHisSucc.bind(this)).catch(function(t){console.log(t)})},handleGetWearHisSucc:function(t){200==t.data.status?(t&&(t=t.data.data),this.wearstucontent=t.content,this.wearstutotalElements=t.totalElements,this.wearstusize=t.size,this.wearstunumber=t.number+1,this.wearstucontent.length&&this.wearstucontent.forEach(function(t){t.lastTime=t.date+"  "+t.time})):10211==t.data.status&&(this.wearstucontent=[],this.$message.error(t.data.msg))},getSudentHistory:function(){var t=new FormData;t.append("page",this.stupage),t.append("studentId",this.studentId),l()({method:"post",data:t,url:"/lightspace/school/screeningByStudentId"}).then(this.handleGetStudentRecordListSucc.bind(this)).catch(function(t){console.log(t)})},handleGetStudentRecordListSucc:function(t){200==t.data.status?(t&&(t=t.data.data),this.stucontent=t.content,this.stutotalElements=t.totalElements,this.stusize=t.size,this.stunumber=t.number+1,this.stucontent.length&&this.stucontent.forEach(function(t){t.lastTime=t.date+"  "+t.time})):(this.$message.error(t.data.msg),this.stucontent=[])},hanldeRemoveRecod:function(t,e){var a=this;return V()(M.a.mark(function s(){var i,n,r;return M.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i="",a.delType=t,n=e.id,"luo"==t?i="/lightspace/school/deleteScreening":"wear"==t&&(i="/lightspace/school/deleteScreeningWear"),s.next=6,a.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(t){return t});case 6:if("confirm"===s.sent){s.next=9;break}return s.abrupt("return",a.$message.info("已经取消删除"));case 9:(r=new FormData).append("id",n),l()({method:"post",url:i,data:r}).then(a.handleDeleteRecordSucc.bind(a)).catch(function(t){console.log(t)});case 12:case"end":return s.stop()}},s,a)}))()},handleDeleteRecordSucc:function(t){console.log(t),200==t.data.status?(this.$message.success("删除成功"),"luo"==this.delType?this.getSudentHistory():"wear"==this.delType&&this.getWearSudentHistory()):(this.$message.error(t.data.msg),this.$router.push("/login"))}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"裸眼档案",name:"luo"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"戴镜视力",name:"wear"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"基础信息",name:"base"}})],1),t._v(" "),"luo"!=this.activeName||this.showHistory?t._e():a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:this.content,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"学校",prop:"schoolName"}}),t._v(" "),a("el-table-column",{attrs:{label:"班级",prop:"className"}}),t._v(" "),a("el-table-column",{attrs:{label:"学生姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"student_name",on:{click:function(a){return t.showStudentInfo("luo",e.row.studentId)}}},[t._v(t._s(e.row.studentName))])]}}],null,!1,1439687857)}),t._v(" "),a("el-table-column",{attrs:{label:"右眼裸眼视力",prop:"visionRight"}}),t._v(" "),a("el-table-column",{attrs:{label:"左眼裸眼视力",prop:"visionLeft"}}),t._v(" "),a("el-table-column",{attrs:{label:"最近一次检测时间",prop:"lastTime"}})],1),t._v(" "),"luo"!=this.activeName||this.showHistory?t._e():a("el-pagination",{attrs:{background:"","current-page":this.number,layout:"prev, pager, next","page-size":this.size,total:this.totalElements},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:"wear"==this.activeName&&!this.showWearHistory,expression:"this.activeName == 'wear'&& !this.showWearHistory"}],staticStyle:{width:"100%"},attrs:{data:this.content,"header-cell-style":{background:"#eef1f6",color:"#606266"},border:"",stripe:""}},[a("el-table-column",{attrs:{label:"学校",prop:"schoolName"}}),t._v(" "),a("el-table-column",{attrs:{label:"班级",prop:"className"}}),t._v(" "),a("el-table-column",{attrs:{label:"学生姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"student_name",on:{click:function(a){return t.showStudentInfo("wear",e.row.studentId)}}},[t._v(t._s(e.row.studentName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"右眼戴镜视力",prop:"visionRight"}}),t._v(" "),a("el-table-column",{attrs:{label:"左眼戴镜视力",prop:"visionLeft"}}),t._v(" "),a("el-table-column",{attrs:{label:"最近一次检测时间",prop:"lastTime"}})],1),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:"wear"==this.activeName&&!this.showWearHistory,expression:"this.activeName == 'wear'&& !this.showWearHistory"}],attrs:{background:"","current-page":this.number,layout:"prev, pager, next","page-size":this.size,total:this.totalElements},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:"base"==this.activeName,expression:"this.activeName == 'base' "}],staticStyle:{width:"100%"},attrs:{data:this.content,"header-cell-style":{background:"#eef1f6",color:"#606266"},border:"",stripe:""}},[a("el-table-column",{attrs:{label:"学校",prop:"schoolName"}}),t._v(" "),a("el-table-column",{attrs:{label:"班级",prop:"classesName"}}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"身高",prop:"height"}}),t._v(" "),a("el-table-column",{attrs:{label:"坐高",prop:"sittingHeight"}}),t._v(" "),a("el-table-column",{attrs:{label:"体重",prop:"weight"}})],1),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:"base"==this.activeName,expression:"this.activeName == 'base'"}],attrs:{background:"","current-page":this.number,layout:"prev, pager, next","page-size":this.size,total:this.totalElements},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:this.showHistory,expression:"this.showHistory"}],attrs:{data:this.stucontent}},[a("el-table-column",{attrs:{label:"班级",prop:"className"}}),t._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"studentName"}}),t._v(" "),a("el-table-column",{attrs:{label:"检测时间",prop:"lastTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"右眼裸眼视力",prop:"visionRight"}}),t._v(" "),a("el-table-column",{attrs:{label:"左眼裸眼视力",prop:"visionLeft"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",size:"middle",icon:"el-icon-delete"},on:{click:function(a){return t.hanldeRemoveRecod("luo",e.row)}}})]}}])})],1),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.showHistory,expression:"this.showHistory"}],attrs:{background:"","current-page":this.stunumber,layout:"prev, pager, next","page-size":this.stusize,total:this.stutotalElements},on:{"current-change":t.handleHistoryCurrentChange}}),t._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:this.showWearHistory,expression:"this.showWearHistory"}],attrs:{data:this.wearstucontent}},[a("el-table-column",{attrs:{label:"班级",prop:"className"}}),t._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"studentName"}}),t._v(" "),a("el-table-column",{attrs:{label:"检测时间",prop:"lastTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"右眼戴镜视力",prop:"visionRight"}}),t._v(" "),a("el-table-column",{attrs:{label:"左眼戴镜视力",prop:"visionLeft"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",size:"middle",icon:"el-icon-delete"},on:{click:function(a){return t.hanldeRemoveRecod("wear",e.row)}}})]}}])})],1),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.showWearHistory,expression:"this.showWearHistory"}],attrs:{background:"","current-page":this.wearstunumber,layout:"prev, pager, next","page-size":this.stusize,total:this.wearstutotalElements},on:{"current-change":t.handleWearHistoryCurrentChange}})],1)},staticRenderFns:[]};var ct={components:{titleHeader:f,currentSchool:et,search:it,card:a("VU/8")(ot,lt,!1,function(t){a("aXfW")},"data-v-006146f5",null).exports},data:function(){return{common:"档案管理",show:!0}},methods:{handleChange:function(t,e){this.$refs.cardmenu.getInfo(t,e)},handleShow:function(t){this.show=t}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("title-header",{attrs:{common:t.common}}),t._v(" "),a("el-card",[a("current-school"),t._v(" "),t.show?a("search",{ref:"search",on:{recordList:t.handleChange}}):t._e(),t._v(" "),a("card",{ref:"cardmenu",on:{showSearch:t.handleShow}})],1)],1)},staticRenderFns:[]};var ut=a("VU/8")(ct,dt,!1,function(t){a("YAhR")},null,null).exports,ht={name:"firstbase",created:function(){this.getBase()},data:function(){return{option:{},inspect:"",actual:"",notPercentage:"",bad:"",badPercentage:""}},methods:{drawLine:function(t,e,a){var s=D.a.init(this.$refs.totalleft);if("未筛查率"==t)s=D.a.init(this.$refs.totalleft);else if("总不良率"==t)s=D.a.init(this.$refs.totalRight);this.option={backgroundColor:"#fff",color:["#38a8da","#d4effa"],title:{text:a,top:"3%",left:"center",textStyle:{color:"#333",fontStyle:"normal",fontWeight:"normal",fontFamily:"sans-serif",fontSize:16}},series:[{name:"来源",type:"pie",radius:["60%","75%"],avoidLabelOverlap:!1,hoverAnimation:!1,label:{normal:{show:!1,position:"center",textStyle:{fontSize:16,fontWeight:"bold"},formatter:"{b}\n{c}%"}},data:[{value:e,name:t,label:{normal:{show:!0}}},{value:100-e,name:""}]}]},s.setOption(this.option)},getBase:function(){new FormData;l()({method:"post",url:"/lightspace/school/survey"}).then(this.handleGetBaseSucc.bind(this)).catch(function(t){console.log(t)})},handleGetBaseSucc:function(t){200==t.data.status&&(t.data.data&&(t=t.data.data),this.inspect=t.inspect,this.actual=t.actual,this.bad=t.bad,this.badPercentage=t.badPercentage,this.notPercentage=t.notPercentage,this.drawLine("未筛查率",this.notPercentage,""),this.drawLine("总不良率",this.badPercentage,""))}}},gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title_total"},[t._v("视力数据概况")]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"base_total"},[a("div",{staticClass:"base_icon"},[a("i",{staticClass:"el-icon-user"})]),t._v(" "),a("div",{staticClass:"base_con"},[a("div",[a("span",[t._v(t._s(t.actual))]),a("span",[t._v(" |")]),t._v(" "),a("span",[t._v(t._s(t.inspect))])]),t._v(" "),a("div",{staticClass:"base_inner"},[a("span",[t._v("实核人数")]),a("span",[t._v(" |")]),t._v(" "),a("span",[t._v("应检人数")])])])])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"base_total",staticStyle:{background:"#51b9ca"}},[a("div",{staticClass:"base_icon"},[a("i",{staticClass:"el-icon-s-check"})]),t._v(" "),a("div",{staticClass:"base_con"},[a("div",[a("span",[t._v(t._s(t.bad))]),a("span",[t._v(" |")]),t._v(" "),a("span",[t._v(t._s(t.badPercentage)+"%")])]),t._v(" "),a("div",{staticClass:"base_inner"},[a("span",[t._v("不良总人数")]),a("span",[t._v(" |")]),t._v(" "),a("span",[t._v("不良率")])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{ref:"totalleft",staticStyle:{width:"400px",height:"300px",margin:"0 auto"}})]),t._v(" "),a("el-col",{attrs:{span:10}},[a("div",{ref:"totalRight",staticStyle:{width:"400px",height:"300px",margin:"0 auto"}})])],1)],1)},staticRenderFns:[]};var mt=a("VU/8")(ht,gt,!1,function(t){a("WQ/Z")},"data-v-4d82245c",null).exports,pt={name:"top5",created:function(){this.getTop5()},data:function(){return{tableList:[]}},methods:{getTop5:function(){new FormData;l()({method:"post",url:"/lightspace/school/top5"}).then(this.handlegetTop5Succ.bind(this)).catch(function(t){console.log(t)})},handlegetTop5Succ:function(t){200==t.data.status&&(this.tableList=t.data.data)}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title_total"},[t._v("视力预警提醒")]),t._v(" "),a("el-card",[a("div",{staticClass:"title_name"},[t._v("不良率预警班级排行榜")]),t._v(" "),a("div",{staticClass:"box titlebox"},[a("div",{staticClass:"className"},[t._v("班级")]),t._v(" "),a("div",{staticClass:"className"},[t._v("视力不良人数")]),t._v(" "),a("div",{staticClass:"className"},[t._v("不良率")])]),t._v(" "),t._l(this.tableList,function(e,s){return a("div",{staticClass:"box"},[a("div",{staticClass:"className"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"className"},[t._v(t._s(e.bad))]),t._v(" "),a("div",{staticClass:"className"},[t._v(t._s(e.percentage)+" %")])])})],2)],1)},staticRenderFns:[]};var ft=a("VU/8")(pt,vt,!1,function(t){a("9jFT")},"data-v-0755f422",null).exports,_t={name:"firstbase",created:function(){this.getBadTotal()},data:function(){return{option:{},yData:[]}},methods:{drawLine:function(t){var e=D.a.init(this.$refs.badTotal);this.option={color:"#4665b0",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["本校"],selectedMode:!1},xAxis:{data:["一年级","二年级","三年级","四年级","五年级","六年级"]},yAxis:[{type:"value",min:0,max:100,interval:20,show:!0,axisLabel:{formatter:"{value} %"}}],series:[{name:"本校",type:"bar",data:t,barWidth:30,markLine:{data:[{yAxis:38}],itemStyle:{normal:{borderWidth:1,lineStyle:{type:"dash",color:"red",width:2},label:{formatter:"全国小学近视率38%",textStyle:{fontSize:12,fontWeight:"bolder"}}}}},itemStyle:{normal:{label:{type:"value",show:!0,position:"top",formatter:"{c} %",textStyle:{fontSize:14,color:"#4665b0"}}}}}]},e.setOption(this.option)},getBadTotal:function(){new FormData;l()({method:"post",url:"/lightspace/school/badPercentage"}).then(this.handlegetBadTotalSucc.bind(this)).catch(function(t){console.log(t)})},handlegetBadTotalSucc:function(t){200==t.data.status&&(this.yData=t.data.data,this.drawLine(this.yData))}}},bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title_total"},[this._v("不良率统计")]),this._v(" "),e("el-row",[e("el-col",{attrs:{span:20}},[e("div",{ref:"badTotal",staticStyle:{width:"100%",height:"400px",margin:"0 auto"}})])],1)],1)},staticRenderFns:[]};var wt={name:"levelrecord",created:function(){this.getBadTotal()},data:function(){return{option:{},yData:[],good:[],light:[],middle:[],serious:[]}},mounted:function(){this.drawLine()},methods:{drawLine:function(t,e,a,s){var i=D.a.init(this.$refs.badTotal);this.option={color:["#55b99d","#de9f3f","#db4c28","#8f0b11"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["好视力","轻度不良","中度不良","重度不良"],selectedMode:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["一年级","二年级","三年级","四年级","五年级","六年级"]},series:[{name:"好视力",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:t},{name:"轻度不良",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:e},{name:"中度不良",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:a},{name:"重度不良",type:"bar",stack:"总量",label:{show:!0,position:"insideRight",formatter:"{c} %"},data:s}]},i.setOption(this.option)},getBadTotal:function(){new FormData;l()({method:"post",url:"/lightspace/school/visionGrade"}).then(this.handlegetBadTotalSucc.bind(this)).catch(function(t){console.log(t)})},handlegetBadTotalSucc:function(t){200==t.data.status&&(this.good=t.data.data[0],this.light=t.data.data[1],this.middle=t.data.data[2],this.serious=t.data.data[3],this.drawLine(this.good,this.light,this.middle,this.serious))}}},Ct={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title_total"},[this._v("视力分级统计")]),this._v(" "),e("el-row",[e("el-col",{attrs:{span:20}},[e("div",{ref:"badTotal",staticStyle:{width:"100%",height:"400px",margin:"0 auto"}})])],1)],1)},staticRenderFns:[]};var yt={name:"trend",created:function(){this.getBadTotal()},data:function(){return{option:{},yData:[]}},mounted:function(){this.drawLine()},methods:{drawLine:function(t){var e=D.a.init(this.$refs.badTotal);this.option={tooltip:{trigger:"axis",formatter:function(t){}},legend:{data:["本校","全国"],selectedMode:!1},xAxis:{boundaryGap:!1,data:["一年级","二年级","三年级","四年级","五年级","六年级"]},yAxis:{min:.1,max:2,interval:.1,right:10,axisLine:{show:!1,fontWeight:"bolder"},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#113d5e"}}},series:[{name:"本校",type:"line",color:"#5e86d1",smooth:!0,data:t},{name:"全国",type:"line",color:"#5bbf5d",smooth:!0,data:[1,.8,.6,.5,.5,.4]}]},e.setOption(this.option)},getBadTotal:function(){new FormData;l()({method:"post",url:"/lightspace/school/brokenLine"}).then(this.handlegetBadTotalSucc.bind(this)).catch(function(t){console.log(t)})},handlegetBadTotalSucc:function(t){200==t.data.status&&(this.yData=t.data.data,this.drawLine(this.yData))}}},St={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title_total"},[this._v("视力发展趋势对比图")]),this._v(" "),e("el-row",[e("el-col",{attrs:{span:20}},[e("div",{ref:"badTotal",staticStyle:{width:"100%",height:"400px",margin:"0 auto"}})])],1)],1)},staticRenderFns:[]};var xt={components:{titleHeader:f,firstBase:mt,badTotal:a("VU/8")(_t,bt,!1,function(t){a("O8g6")},"data-v-204d4a2a",null).exports,levelRecord:a("VU/8")(wt,Ct,!1,function(t){a("k5k9")},"data-v-1256cce3",null).exports,trend:a("VU/8")(yt,St,!1,function(t){a("6Vfi")},"data-v-4f3daf03",null).exports,top5:ft},data:function(){return{common:"首页",inspect:"",actual:"",notPercentage:"",bad:"",badPercentage:""}},methods:{getBase:function(){new FormData;l()({method:"post",url:"/lightspace/school/survey"}).then(this.handleGetBaseSucc.bind(this)).catch(function(t){console.log(t)})},handleGetBaseSucc:function(t){200==t.data.status&&(t.data.data&&(t=t.data.data),this.inspect=t.inspect,this.actual=t.actual,this.bad=t.bad,this.badPercentage=t.badPercentage,this.notPercentage=t.notPercentage)}}},At={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("title-header",{attrs:{common:this.common}}),this._v(" "),e("first-base"),this._v(" "),e("top5"),this._v(" "),e("bad-total"),this._v(" "),e("level-record"),this._v(" "),e("trend")],1)},staticRenderFns:[]};var Rt=a("VU/8")(xt,At,!1,function(t){a("GHRL")},null,null).exports,kt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  221222\n")])},staticRenderFns:[]};var Dt=a("VU/8")({name:"history"},kt,!1,function(t){a("SsM/")},null,null).exports,Lt={created:function(){this.getOptions()},data:function(){return{common:"在线排座",options:[],value:"",inputName:"",classId:0,classRecordList:[],currentPage:1,pageSize:10,total:0,column:"",time:"",typeoptions:[{value:6,label:"6列"},{value:7,label:"7列"},{value:8,label:"8列"},{value:9,label:"9列"}],timeoptions:[{value:7,label:"一星期"},{value:14,label:"两星期"},{value:30,label:"一个月"},{value:90,label:"三个月"}]}},components:{titleHeader:f},methods:{handleClassChange:function(t){this.classId=t},getOptions:function(){new FormData;l()({method:"post",url:"/lightspace/school/getAllClass"}).then(this.handleGetOptionsSucc.bind(this)).catch(function(t){console.log(t)})},handleGetOptionsSucc:function(t){200==t.data.status&&(this.options=t.data.data)},seatQuery:function(t){var e=this;if(2==t){new FormData;if(!this.classId)return this.$message.error("请选择学校和班级");if(!this.column)return this.$message.error("请选择排座列数");if(!this.time)return this.$message.error("请选择排座周期");var a=this.$router.resolve({path:"/onlineSeat",query:{classId:this.classId,type:this.column,time:this.time,sortType:t}});window.open(a.href,"_blank")}else if(1==t){new FormData;if(!this.classId)return this.$message.error("请选择学校和班级");if(!this.value)return this.$message.error("请选择排座列数");if(!this.time)return this.$message.error("请选择排座周期");var s=new FormData;s.append("classId",this.classId),s.append("type",this.column),l()({method:"post",url:"/lightspace/school/chkSort",data:s}).then(function(a){if(200==a.data.status){var s=e.$router.resolve({path:"/onlineSeat",query:{classId:e.classId,type:e.column,sortType:t,time:e.time}});window.open(s.href,"_blank")}else 10238==a.data.status?e.$message({message:a.data.msg,type:"warning"}):10239==a.data.status&&e.$message({message:a.data.msg,type:"warning"})}).catch(function(t){console.log(t)})}}}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("title-header",{attrs:{common:t.common}}),t._v(" "),a("el-card",[a("div",{staticClass:"searchBox"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("班级选择")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleClassChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.className,value:t.id}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("列数选择：")])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.column,callback:function(e){t.column=e},expression:"column"}},t._l(t.typeoptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("排座周期：")])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-select",{attrs:{clearable:""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},t._l(t.timeoptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.seatQuery(1)}}},[t._v("近期微调")])],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.seatQuery(2)}}},[t._v("打乱重拍")])],1)],1)],1),t._v(" "),t.classRecordList.length?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.classRecordList.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize),stripe:"","row-key":"id","row-click":"handleRow"}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"排列次数",prop:"name"}}),t._v(" "),a("el-table-column",{staticClass:"red",attrs:{label:"排列方式",prop:"type"}}),t._v(" "),a("el-table-column",{attrs:{label:"排座时间",prop:"date"}}),t._v(" "),a("el-table-column",{attrs:{label:"查看"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"middle"},on:{click:function(a){return t.showSeat(e.row.id,e.row.type)}}},[t._v("排座表")])]}}],null,!1,1588653972)})],1):t._e(),t._v(" "),t.classRecordList.length?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.classRecordList.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1)},staticRenderFns:[]};var Et=a("VU/8")(Lt,Ft,!1,function(t){a("f6S4")},"data-v-57842a96",null).exports,It={created:function(){this.id=this.$router.history.current.query.id,this.type=this.$router.history.current.query.type,this.getSeatTable()},data:function(){return{divList:[],dragging:null,hasDistance:!1,totalPai:0,reversePai:[]}},methods:{getSeatTable:function(){var t=new URLSearchParams;t.append("sortId",this.id),l()({method:"post",data:t,url:"/lightspace/school/showSort"}).then(this.handleGetSeatQuerySucc.bind(this)).catch(this.handleGetSeatQueryErr.bind(this))},handleGetSeatQuerySucc:function(t){if(console.log(t),10204===t.data.status)this.$message.error(t.data.msg);else if(200==t.data.status){if(0==t.data.data.length)return this.$message.error("请先添加学生");this.divList=t.data.data,this.changeBelongs()}else(t.data.status=10216)&&this.$message.error(t.data.msg)},handleGetSeatQueryErr:function(t){console.log(t)},changeBelongs:function(){if(this.reversePai=[],6==this.type){this.totalPai=Math.ceil(this.divList.length/6);this.totalPai,this.divList.length;for(var t=0;t<this.totalPai;t++){var e=this.totalPai-t;this.reversePai.push(e)}}else if(7==this.type){this.totalPai=Math.ceil(this.divList.length/7);this.totalPai,this.divList.length;for(var a=0;a<this.totalPai;a++){var s=this.totalPai-a;this.reversePai.push(s)}}else if(8==this.type){this.totalPai=Math.ceil(this.divList.length/8);this.totalPai,this.divList.length;for(var i=0;i<this.totalPai;i++){var n=this.totalPai-i;this.reversePai.push(n)}}else if(9==this.type){this.totalPai=Math.ceil(this.divList.length/9);this.totalPai,this.divList.length;for(var r=0;r<this.totalPai;r++){var o=this.totalPai-r;this.reversePai.push(o)}}}}},Nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mianWrap"},[t._m(0),t._v(" "),s("div",{staticClass:"innerWrap"},[t._l(t.reversePai,function(e){return 6==t.type?s("div",{staticClass:"outerBox"},[s("div",[t._v("第"+t._s(e)+" 排")]),t._v(" "),t._l(t.divList.slice(6*(e-1)),function(i){return e==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n           "+t._s(i.studentName)+"\n        ")])]):t._e()}),t._v(" "),t._l(t.divList.slice(6*(e-1),6*e),function(i){return e!==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n             "+t._s(i.studentName)+"\n          ")])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 7==t.type?s("div",{staticClass:"outerBox"},[s("div",[t._v("第"+t._s(e)+" 排")]),t._v(" "),t._l(t.divList.slice(7*(e-1)),function(i){return e==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n           "+t._s(i.studentName)+"\n        ")])]):t._e()}),t._v(" "),t._l(t.divList.slice(7*(e-1),7*e),function(i){return e!==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n             "+t._s(i.studentName)+"\n          ")])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 8==t.type?s("div",{staticClass:"outerBox"},[s("div",[t._v("第"+t._s(e)+" 排")]),t._v(" "),t._l(t.divList.slice(8*(e-1)),function(i){return e==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n             "+t._s(i.studentName)+"\n          ")])]):t._e()}),t._v(" "),t._l(t.divList.slice(8*(e-1),8*e),function(i){return e!==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n             "+t._s(i.studentName)+"\n          ")])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 9==t.type?s("div",{staticClass:"outerBox"},[s("div",[t._v("第"+t._s(e)+" 排")]),t._v(" "),t._l(t.divList.slice(9*(e-1)),function(i){return e==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n             "+t._s(i.studentName)+"\n          ")])]):t._e()}),t._v(" "),t._l(t.divList.slice(9*(e-1),9*e),function(i){return e!==t.totalPai?s("div",{key:i.id,staticClass:"item",class:{mr20:i.mr}},[1==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("BlSr"),width:"120px",alt:""}}):1==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("qTPy"),width:"120px",alt:""}}):0==i.gender&&0==i.correct?s("img",{staticClass:"img",attrs:{src:a("vMRx"),width:"120px",alt:""}}):0==i.gender&&1==i.correct?s("img",{staticClass:"img",attrs:{src:a("lQ19"),width:"120px",alt:""}}):2==i.gender?s("img",{staticClass:"img",attrs:{src:a("UHh/"),width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n             "+t._s(i.studentName)+"\n          ")])]):t._e()})],2):t._e()})],2),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"imgWrap"},[e("img",{attrs:{src:a("aamZ")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"jtWrap"},[e("img",{attrs:{src:a("9M5e")}})])}]};var Bt=a("VU/8")(It,Nt,!1,function(t){a("TVjX")},"data-v-4b1f0d70",null).exports,Pt={created:function(){this.getOptions()},data:function(){return{common:"座位查询",options:[],value:"",inputName:"",classId:0,classRecordList:[],currentPage:1,pageSize:10,total:0}},components:{titleHeader:f},methods:{handleClassChange:function(t){this.classId=t},getOptions:function(){new FormData;l()({method:"post",url:"/lightspace/school/getAllClass"}).then(this.handleGetOptionsSucc.bind(this)).catch(function(t){console.log(t)})},handleGetOptionsSucc:function(t){200==t.data.status&&(this.options=t.data.data)},getSeatList:function(){if(this.classId){var t=new URLSearchParams;t.append("classId",this.classId),l()({method:"post",url:"/lightspace/school/classSorts",data:t}).then(this.handleGetClassReorcdSucc.bind(this)).catch(function(t){console.log(t)})}else this.$message({message:"请先选择学校班级",type:"warning"})},handleGetClassReorcdSucc:function(t){10204===t.data.status?(this.$message.error(t.data.msg),this.$router.push("/login")):200==t.data.status&&(t.data.data.length?(this.classRecordList=t.data.data,console.log(this.classRecordList)):(this.$message({message:"你好，没有查到该班级座位表，请先去排座",type:"warning"}),this.classRecordList=[]))},handleSizeChange:function(t){this.pageSize=t},handleCurrentChange:function(t){this.currentPage=t},showSeat:function(t,e){var a=this.$router.resolve({path:"/detailSeat",query:{id:t,type:e}});window.open(a.href,"_blank")}}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("title-header",{attrs:{common:t.common}}),t._v(" "),a("el-card",[a("div",{staticClass:"searchBox"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"name"},[t._v("班级选择")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleClassChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.className,value:t.id}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:t.getSeatList}},[t._v("查询")])],1)],1)],1),t._v(" "),t.classRecordList.length?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.classRecordList.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize),stripe:"","row-key":"id","row-click":"handleRow"}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"排列次数",prop:"name"}}),t._v(" "),a("el-table-column",{staticClass:"red",attrs:{label:"排列方式",prop:"type"}}),t._v(" "),a("el-table-column",{attrs:{label:"排座时间",prop:"date"}}),t._v(" "),a("el-table-column",{attrs:{label:"查看"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"middle"},on:{click:function(a){return t.showSeat(e.row.id,e.row.type)}}},[t._v("排座表")])]}}],null,!1,1588653972)})],1):t._e(),t._v(" "),t.classRecordList.length?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.classRecordList.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1)},staticRenderFns:[]};var $t=a("VU/8")(Pt,Tt,!1,function(t){a("x7P0")},"data-v-4c7588a9",null).exports,Gt=a("Gu7T"),zt=a.n(Gt),Mt={created:function(){this.classId=this.$route.query.classId,this.time=this.$route.query.time,this.type=this.$route.query.type,this.sortType=this.$route.query.sortType;for(var t=0;t<this.type;t++)this.showArr.push(!1);this.getSeatTable()},data:function(){var t;return{errorMessage:[],girl:a("BlSr"),weargirl:a("qTPy"),boy:a("vMRx"),wearboy:a("lQ19"),kong:a("UHh/"),divList:[],dragging:null,hasDistance:!1,totalPai:0,reversePai:[],visonArr:[.5,.6,.7,.8,.9,1],remind:!0,t:0,mrShow:!1,showArr:[],editRecordDialogVisible:!1,editRecordForm:(t={curvatureLeft:"",curvatureRight:"",cvaLeft:"",cvaRight:"",diopterLeft:"",diopterRight:"",eyeAxisLengthLeft:"",eyeAxisLengthRight:"",visionLeft:""},rt()(t,"visionLeft",""),rt()(t,"record_cat",""),rt()(t,"studentName",""),rt()(t,"schoolName",""),rt()(t,"classesName",""),t),floorNum:0,topNum:0,chooseStr:""}},methods:{showRecordEditDialog:function(t){if(t){var e=new FormData;e.append("id",t),l()({method:"post",url:"/lightspace/school/studentRecord",data:e}).then(this.handleEditRecordSucc.bind(this)).catch(this.handleEditRecordErr.bind(this))}},handleEditRecordSucc:function(t){200===t.status&&(t&&(t=t.data),this.editRecordForm=t.data,this.editRecordDialogVisible=!0)},handleEditRecordErr:function(t){console.log(t)},addMargin:function(t){for(var e=Number(t.target.dataset.index),a=this.divList,s=(this.totalPai-1)*this.type,i=a.slice(s),n=0;n<i.length;n++)n==e-1&&(i[n].showMr=!i[n].showMr);i[e-1];if(a.splice.apply(a,[s,s+Number(this.type)].concat(zt()(i))),6==this.type)for(var r=0;r<a.length;r++)r%6==e&&(this.$forceUpdate(),this.$set(a[r-1],"mr",i[e-1].showMr));else if(7==this.type)for(var o=0;o<a.length;o++)o%7==e&&(this.$forceUpdate(),this.$set(a[o-1],"mr",i[e-1].showMr));else if(8==this.type)for(var l=0;l<a.length;l++)l%8==e&&(this.$forceUpdate(),this.$set(a[l-1],"mr",i[e-1].showMr));else if(9==this.type)for(var c=0;c<a.length;c++)c%9==e&&(this.$forceUpdate(),this.$set(a[c-1],"mr",i[e-1].showMr));this.divList=a},changeState:function(){this.remind=!1},saveResult:function(){var t=this,e=this.divList,a=[],s=[];e.forEach(function(t,e){t.studentId||(t.studentId="m"+e),a.push(t.studentId.toString())}),e.forEach(function(t,e){t.mr?s.push("1"):s.push("0")});var i=new FormData;i.append("classId",this.classId),i.append("sort",a),i.append("mr",s),i.append("type",this.type),l()({method:"post",data:i,url:"/lightspace/school/saveSort"}).then(function(e){200==e.data.status&&t.$message({message:"恭喜你,修改座位保存成功",type:"success"})}).catch(function(t){console.log(t)})},handleDragStart:function(t,e){this.dragging=e,this.selectedSeat()},handleDragEnter:function(t){t.dataTransfer.effectAllowed="move"},handleDragover:function(t){t.dataTransfer.dropEffect="move"},handleDrop:function(t,e){if(this.topNum=0,this.floorNum=0,this.chooseStr="",t.dataTransfer.dropEffect="move",e!==this.dragging){var a=[].concat(zt()(this.divList)),s=a.indexOf(this.dragging),i=a.indexOf(e);a[s]=e;var n=this.dragging.mr,r=e.mr;this.dragging.mr=r,e.mr=n,a[i]=this.dragging,this.divList=a}},handleDragEnd:function(){this.dragging=null},getSeatTable:function(){var t=new URLSearchParams;1==this.sortType?(t.append("classId",this.classId),l()({method:"post",data:t,url:"/lightspace/school/adjustSort"}).then(this.handleAdjustSucc.bind(this)).catch(function(t){console.log(t)})):2==this.sortType&&(t.append("classId",this.classId),t.append("time",86400*this.time),t.append("type",this.type),l()({method:"post",data:t,url:"/lightspace/school/sortList"}).then(this.handleGetSeatQuerySucc.bind(this)).catch(function(t){console.log(t)}))},handleAdjustSucc:function(t){200==t.data.status&&(this.divList=t.data.data.data,this.sort_group=t.data.data.sort_group,this.changeBelongs())},handleGetSeatQuerySucc:function(t){if(200!==t.data.status)this.$message.error(t.data.msg),this.errorMessage=t.data.data;else if(200==t.data.status){if(0==t.data.data.length)return this.$message.error("请先添加学生");this.divList=t.data.data.data,this.id=t.data.data.id,this.sort_group=t.data.data.sort_group,this.divList.forEach(function(t,e){t.mr=!1});this.showArr;for(var e=this.divList,a=(this.totalPai-1)*this.type,s=e.slice(a),i=0;i<s.length;i++)s[i].showMr=!1;this.id=t.data.data.id,this.changeBelongs()}else(t.data.status=10216)&&this.$message.error(t.data.msg)},selectedSeat:function(){for(var t=this.dragging,e=this.sort_group,a=0,s=0,i=0,n="",r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)e[r][o].studentId==t.studentId&&(a=r);for(var l=0;l<=a;l++)i+=e[l].length;for(var c=0;c<a;c++)s+=e[c].length;this.topNum=Math.ceil(i/this.type),this.floorNum=Math.ceil(s/this.type);for(var d=this.floorNum;d<=this.topNum;d++)n+=d;this.chooseStr=n},getReversePai:function(){for(var t=[],e=.5,a=0;a<this.totalPai;a++)e=0==a?.5:1==a?.6:2==a?.7:3==a?.8:4==a?.9:1,t.push({num:a+1,vison:e});t.reverse();this.reversePai=t},changeBelongs:function(){this.reversePai=[];var t=[.5,.6,.7,.8,.9,1];this.totalPai=Math.ceil(this.divList.length/this.type);var e=this.totalPai,a=this.visonArr.length;if(a<e)for(var s=a;s<e;s++)this.visonArr.push(1),t.push(1);for(var i=this.totalPai*this.type-this.divList.length,n=0;n<i;n++)this.divList.push({studentName:"",gender:2,mr:!1});this.getReversePai()}}},Ht={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"relative"}},[t.remind?s("div",{staticClass:"bg2",on:{click:t.changeState}}):t._e(),t._v(" "),t.remind?s("div",{staticClass:"remindBox"},[t.divList.length?s("div",{staticClass:"imgRemBox"}):t._e(),t._v(" "),t.divList.length?s("div",{staticClass:"imgTitle"},[t._v("有绿色框的学生视力在这排有问题，老师可以自行调学生位置,希望您在拖动学生的过程中在红色框内\n      选择学生将要移动定位的位置，以便更科学的实现排座。")]):t._e(),t._v(" "),t.divList.length?s("div",{staticClass:"imgTitle"},[t._v("  您可以拖拽调整学生位置,拖拽完成后请按左上角保存按钮,保存此次调整结果，否则将不会保存此次拖拽效果。")]):t._e(),t._v(" "),t.divList.length?s("el-button",{attrs:{type:"primary"},on:{click:t.changeState}},[t._v("我知道了")]):t._e(),t._v(" "),t.divList.length?t._e():s("el-table",{attrs:{data:t.errorMessage,border:""}},[s("el-table-column",{attrs:{type:"index"}}),t._v(" "),s("el-table-column",{attrs:{prop:"name",align:"center",label:"姓名"}}),t._v(" "),s("el-table-column",{attrs:{prop:"cause",align:"center",label:"无法排座原因"}})],1)],1):t._e(),t._v(" "),s("div",{staticClass:"titleWrap"},[2==this.sortType?s("div",{staticClass:"btnWrap"},[s("el-button",{attrs:{type:"primary"},on:{click:t.saveResult}},[t._v("保存拖拽效果")])],1):t._e(),t._v(" "),1==this.sortType?s("div",{staticClass:"btnWrap"},[s("el-button",{attrs:{type:"primary"},on:{click:t.saveResult}},[t._v("保存微调")])],1):t._e()]),t._v(" "),s("div",{staticClass:"mianWrap"},[t._m(0),t._v(" "),2==t.sortType?s("div",{staticClass:"innerWrap"},[t._l(t.reversePai,function(e,i){return 6==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+" 排")]),t._v(" "),t._l(t.divList.slice(6*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n              ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(6*(e.num-1),6*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n              "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n          ")])])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 7==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+" 排")]),t._v(" "),t._l(t.divList.slice(7*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                 "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n               ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(7*(e.num-1),7*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n               "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n           ")])])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 8==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+"排")]),t._v(" "),t._l(t.divList.slice(8*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                  "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n                ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(8*(e.num-1),8*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                 "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n             ")])])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 9==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+"排")]),t._v(" "),t._l(t.divList.slice(9*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                   "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n                 ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(9*(e.num-1),9*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                 "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n             ")])])]):t._e()})],2):t._e()})],2):t._e(),t._v(" "),1==this.sortType?s("div",[t._l(t.reversePai,function(e,i){return 6==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+" 排")]),t._v(" "),t._l(t.divList.slice(6*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                  "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n                ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(6*(e.num-1),6*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n            ")])])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 7==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+" 排")]),t._v(" "),t._l(t.divList.slice(7*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                   "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n                 ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(7*(e.num-1),7*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                 "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n             ")])])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 8==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+"排")]),t._v(" "),t._l(t.divList.slice(8*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                    "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n                  ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(8*(e.num-1),8*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                   "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n               ")])])]):t._e()})],2):t._e()}),t._v(" "),t._l(t.reversePai,function(e,i){return 9==t.type?s("div",{staticClass:"outerBox",class:{bor:-1!==t.chooseStr.indexOf(e.num)}},[s("div",{staticClass:"titlePai"},[t._v("第"+t._s(e.num)+"排")]),t._v(" "),t._l(t.divList.slice(9*(e.num-1)),function(i,n){return e.num==t.totalPai?s("div",{staticClass:"item",class:{mr20:i.mr,nopass:e.vison>i.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,i)},dragenter:function(e){return t.handleDragEnter(e,i)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,i)},drop:function(e){return t.handleDrop(e,i)},dragend:function(e){return t.handleDragEnd(e,i)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}},[1==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):1==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&0==i.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):0==i.gender&&1==i.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):2==i.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""},on:{click:function(e){return t.showRecordEditDialog(i.studentId)}}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                     "+t._s(i.studentName)+" "+t._s(i.avgRecord)+"\n                   ")])]),t._v(" "),s("div",{staticClass:"addBtn",on:{click:t.addMargin}},[i.showMr?t._e():s("img",{attrs:{src:a("dhU8"),"data-index":n+1}}),t._v(" "),i.showMr?s("img",{attrs:{src:a("+liO"),"data-index":n+1}}):t._e()])]):t._e()}),t._v(" "),t._l(t.divList.slice(9*(e.num-1),9*e.num),function(a){return e.num!==t.totalPai?s("div",{key:a.id,staticClass:"item",class:{mr20:a.mr,nopass:e.vison>a.avgRecord},attrs:{draggable:"true"},on:{dragstart:function(e){return t.handleDragStart(e,a)},dragenter:function(e){return t.handleDragEnter(e,a)},dragover:function(e){return e.preventDefault(),t.handleDragover(e,a)},drop:function(e){return t.handleDrop(e,a)},dragend:function(e){return t.handleDragEnd(e,a)}}},[s("div",{on:{click:function(e){return t.showRecordEditDialog(a.studentId)}}},[1==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.girl,width:"120px"}}):1==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.weargirl,width:"120px"}}):0==a.gender&&0==a.correct?s("img",{staticClass:"i2",attrs:{src:t.boy,width:"120px",alt:""}}):0==a.gender&&1==a.correct?s("img",{staticClass:"i2",attrs:{src:t.wearboy,width:"120px",alt:""}}):2==a.gender?s("img",{staticClass:"i2",attrs:{src:t.kong,width:"120px",alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"name"},[t._v("\n                   "+t._s(a.studentName)+" "+t._s(a.avgRecord)+"\n               ")])])]):t._e()})],2):t._e()})],2):t._e(),t._v(" "),t._m(1)]),t._v(" "),s("el-dialog",{attrs:{title:"学生信息",visible:t.editRecordDialogVisible},on:{"update:visible":function(e){t.editRecordDialogVisible=e}}},[s("el-form",{ref:"recordEditFormRef",attrs:{model:t.editRecordForm,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.studentName,callback:function(e){t.$set(t.editRecordForm,"studentName",e)},expression:"editRecordForm.studentName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"所属学校"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.schoolName,callback:function(e){t.$set(t.editRecordForm,"schoolName",e)},expression:"editRecordForm.schoolName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"所属班级"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.classesName,callback:function(e){t.$set(t.editRecordForm,"classesName",e)},expression:"editRecordForm.classesName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"左眼裸眼视力"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.visionLeft,callback:function(e){t.$set(t.editRecordForm,"visionLeft",e)},expression:"editRecordForm.visionLeft"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"右眼裸眼视力"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.visionRight,callback:function(e){t.$set(t.editRecordForm,"visionRight",e)},expression:"editRecordForm.visionRight"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"左眼矫正视力"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.cvaLeft,callback:function(e){t.$set(t.editRecordForm,"cvaLeft",e)},expression:"editRecordForm.cvaLeft"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"右眼矫正视力"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.cvaRight,callback:function(e){t.$set(t.editRecordForm,"cvaRight",e)},expression:"editRecordForm.cvaRight"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"身高"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.height,callback:function(e){t.$set(t.editRecordForm,"height",e)},expression:"editRecordForm.height"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"左眼曲率"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.curvatureLeft,callback:function(e){t.$set(t.editRecordForm,"curvatureLeft",e)},expression:"editRecordForm.curvatureLeft"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"右眼曲率"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.curvatureRight,callback:function(e){t.$set(t.editRecordForm,"curvatureRight",e)},expression:"editRecordForm.curvatureRight"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"左眼屈光度"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.diopterLeft,callback:function(e){t.$set(t.editRecordForm,"diopterLeft",e)},expression:"editRecordForm.diopterLeft"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"右眼屈光度"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.diopterRight,callback:function(e){t.$set(t.editRecordForm,"diopterRight",e)},expression:"editRecordForm.diopterRight"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"左眼眼轴长度"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.eyeAxisLengthLeft,callback:function(e){t.$set(t.editRecordForm,"eyeAxisLengthLeft",e)},expression:"editRecordForm.eyeAxisLengthLeft"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"右眼眼轴长度"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editRecordForm.eyeAxisLengthRight,callback:function(e){t.$set(t.editRecordForm,"eyeAxisLengthRight",t._n(e))},expression:"editRecordForm.eyeAxisLengthRight\t"}})],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editRecordDialogVisible=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"imgWrap"},[e("img",{attrs:{src:a("aamZ")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"jtWrap"},[e("img",{attrs:{src:a("9M5e")}})])}]};var Vt=a("VU/8")(Mt,Ht,!1,function(t){a("BUjN")},"data-v-7d994d76",null).exports;s.default.use(r.a);var Ot=new r.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:m},{path:"/detailSeat/",component:Bt},{path:"/onlineSeat/",component:Vt},{path:"/home",component:u,children:[{path:"/first",component:Rt},{path:"/history",component:Dt},{path:"/studentsetting",component:W},{path:"/classsetting",component:Z},{path:"/recordsetting",component:ut},{path:"/analysis",component:P},{path:"/online",component:Et},{path:"/detailSeat",component:Bt},{path:"/seatQuery",component:$t}]}]}),Ut=a("zL8q"),qt=a.n(Ut);a("tvR6"),a("+/TY"),a("VC9Y");s.default.use(C.a);var Qt=new C.a.Store({state:{name:"",school:"",semester:1,year:"2020 - 2021",classId:"",grade:0},mutations:{changeName:function(t,e){t.name=e},changeClassId:function(t,e){t.classId=e},changeSchool:function(t,e){t.school=e},changeSemester:function(t,e){t.semester=e},changeYear:function(t,e){t.year=e},seeGrade:function(t,e){t.grade=e}}});s.default.use(qt.a),s.default.prototype.$echarts=D.a,s.default.config.productionTip=!1,new s.default({el:"#app",store:Qt,router:Ot,components:{App:n},template:"<App/>"})},O8g6:function(t,e){},ONVd:function(t,e){},"R+pa":function(t,e){},SoN4:function(t,e){},"SsM/":function(t,e){},TVjX:function(t,e){},"UHh/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAHaElEQVR4Xu2db2yTVRTGzy1swAas3ZYAYwbjxIkoWUD+hShVRFjilABCF2NAGYVBFBP0g/+QP4GEKBESEBiDkCxK8QMfQAUSkYEYRpRkQSUhCgwzmQiuY7ghg/aadhaGa+l73962773v0y9k2bnnPud5fjttIR2M8LC1A8zW02N4AgA2hwAAAACbO2Dz8bEBAIDNHbD5+NgAAMDmDth8fGwAAGBzB2w+PjYAAEidA2UF3qzsdkcxY/xhzvlDSb/ZwRr5reCpzD7/nK65VNNm9j5VdRuZN2UbwJO74E3ifAkRFRoRJrmmkRjb4Gve+pFoX1V1G50zJQB4XN79RDQ1JKr3wLymQU+MaMgrGXrDqEizdf4fz1PTkZMPtjc1R6A74PNXlRrtp6puo/OF6pIOgCd3wWzi3Be6bPhrM44WvfTskyICZdRePHSy9od3q9zhXox5fM1bd8frq6rueHP9//tJBaDcVTGCk6OOiPo8s2f1iayC/LGiAmXVXz3TePTInFUh+K4zCo7b5a8+Fau3qrrNeJVUADyuBQuJ+ObBk0efHLWqYpQZgTLP3NkErNLn37olVm9VdZvxKqkAzHbN38SILRr5wSu1haXjOldwGh+tvzQer3151XhO/JPd/m2LY0lRVbcZa5MKgMc1/zARc089uK4+M6dviRmBMs90XP27/sCUpSVEvNbn3/ZU7A2gpm4zXgGAKK6pCi4AiOMANkB3g7ABsAHMLA5jZ1RdparqNpbK3VXYANgAZrgxdkbVnyRVdRtLBRsAbwO7MCDlKcCT/2oBBXpG+Yse/h4RGzZ8ycwLReWTh5ghVOYZvAtI0ruA/wD4PVZY/YsK29yfvp8tM0wzvQBA8gG4SES1t69hNIk4DQAAZnC9c8YouGZuSfgpoNzpncYdrJw4n5XXi1/a6L42MiLk9W/7Hrzc7ngUAESP5pzvEP20/vOYuY1ZW0kDJ5aQZQEod3rf4Iw+jkwQBmCOc0D46wsN1NDas+3t4/2yAUD0jM9U76Mz1V/EBKC44jkqriizLgAel7eBiIYwRtWcU0UYgBczOgG4fBkAxNnJEQAqlztp9H0/367++uxY+mxNI6kAQAsR5ZCDxlGQ6jqfAlo6ASACAAIATCg4cbv6q4ZJigCQ691JnObc9RQAAAy/Fuu6AZQEYJpzrrM3y9hJxF4ITY0NYDj7cKESAHhcXm50rP69gt1KW284jB5HXRIc8Pmr7vlOL+7bQBEAkqAfLRN0QBoAu/ZnxJTib46/JFy5cVlLcFQc7+pAeenN8JcpAQDWW88BAGC9TFKqCACk1G7rXQYArJdJShUlA4BASifQ8LJAgKhHj9QMVl56M3yTtBeB0WWHXv3j1X1qIjV3CwAw55s2pxIG4F5OeJwVbmKOw/1yqN67pHO3rVsZCH8EbNOHZ69o46KEQfbuz806+I0ra8rT/vbnS5vbRVsufqsoP3Rm6bIe9Y+Pd5RsWB2orTsWdBOn5b6WqhWi/SL1Ce3vrgBU+TLCwUdefOzY+Gt7ZmYgy6ww3c7t2ZdPe/bl0fSyv2h6mdjPxq1bjo65i4ZmAgCFqQAACocnQzoAkOGiwj0AgMLhyZAOAGS4qHCP7070p83bB1HlvCaaMLZVaBK8CBSyy7rFV5ozKD+3859pRR4AQMQtDWsBgIahiowEAETc0rAWAGgYqshIAEDELQ1rAYCGoYqMBABE3NKwFgBoGKrISABAxC0NawGAhqGKjAQARNzSsBYAaBiqyEgAQMQtDWsBgIahiowEAETc0rAWAGgYqshIAEDELQ1rAYCGoYqMBABE3NKwFgBoGKrISABAxC0NawGAhqGKjAQARNzSsBYAaBiqyEgAQMQtDWu1B2BHzQAaVnydxo8R+8iUhllHHUlrAM419KZla4bQ4IEdtHblebtkKjSnLQB44P7rtPKd34SMsUuxkgAsnNf0vZGALv6Rmb33y7xHcp0322bNuHLayBk71mzZPmh0aG5lfkeQaEj4hXPGHFMGAM5ovbGRiFiQFXIW/JMY6zB6xm51jPhM4qxQGQDi/X46uwWY6LyR/88YACTqpKLnAYCiwcmSDQBkOaloHwCgaHCyZAMAWU4q2gcAKBqcLNkAQJaTivYBAIoGJ0s2AJDlpKJ9AICiwcmSDQBkOaloHwCgaHCyZAMAWU4q2gcAKBqcLNkAQJaTivYBAIoGJ0s2AJDlpKJ9AICiwcmSDQBkOaloHwCgaHCyZAMAWU4q2gcAKBqcLNkAQJaTivYBAIoGJ0s2AJDlpKJ9AICiwcmSDQBkOaloH8sDMPwxR0vI27pjQXfoT3w2UC5pEQD65VB9pPO1q1RCnJb7WqpWmL2NmT0YOudxVriJOQ5H6wEAEnG2+9kIAN2+k3YAyDExKgAJUCnXOj26hX/YYjx8LdW1ZqdMaAOYvRTnrOMAALBOFmlRAgDSYrt1LgUA1skiLUoAQFpst86lAMA6WaRFCQBIi+3WuRQAWCeLtCgBAGmx3TqXAgDrZJEWJQAgLbZb51IAYJ0s0qLkX+dUJhcIy7KIAAAAAElFTkSuQmCC"},VC9Y:function(t,e){},"WQ/Z":function(t,e){},YAhR:function(t,e){},aXfW:function(t,e){},aamZ:function(t,e,a){t.exports=a.p+"lightspace/img/bg3.2a45365.png"},dWjc:function(t,e){},dhU8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGn0lEQVRoQ91aa4gbVRT+zmRnUsEfi/rLZiZbsMxki1asWKvgk1oUfNT3q4oKrnUrWtFiVdCC2lLFVmzVFlR8Vq3aVUFZxXYt+FhpxSq7SajQzUy2v1T6Q2gzs5kjdzJJZ2c3mcljpfVCSMg957vnO/fkzr3fDeE4b9TJ+LOprotIklIEpJhZBVHKw2cuEpHFQJFdt5gpTgx1aty2CIzOmZVOlMsXAHQJA9cA6I4Z2CECBgDeWU4kdvceOFKI6TfFrCUC+VNxCncpjwJY1erAIb/1NGE/rx/En83iNU0gl5bvBpMIXA8NdoQIAy5jHzEfckGHJKZDwsYl7pbA3UzULRHmM3uzNSvknwfxeqPgvNEMidgE/jj1BLWcKL/EhKWhAd4B8EVSsr+YM4YjcQY/0INZJVe5EoB4LQv6EGNHopx48LSDh604WLEIjGrJxRL4TQCzq6DE2OZK7qZMYeKHOAPVs8mmu86TXGkFE24J2Iy7oLt6zdI3UdiRBLJpeQUxvVwDEiUi0Wq9UPoqCryZ/nw6eTm7vBaE+VU/Jn4gU3A2NcJpSCCvyXcw6K0aIHi36zpL5xXxdzPBxbUdSeEkSZJ3EOiC2kyD79RN5+16GHUJ+Gv6roDje4Zp3x43mHbscpryLoDbaolz3YvrPTumJbA/LZ9VZvoRgCJACHhaN+017QTVrG9eU55i4Gnfz04QL5pbcH4J40xLIKcpewAs8JZAxrO9lv1kswF0wn5UVZ6RCE/4WHsN0z47kkBWk+8l0Bbf8D8rm3qEg+XE4L6M6WwN2k6ZgWD2GXx2xnT2diKbrWJkNXkBgURFiDZlFiYRCGafQFt1s9TX6sA5VV4OovWeP/Mqw3JebRUrryW3MPheDyo0C5MI5DVlmIFzfMO2su8TeMUncH87BIKzQMDPumkvPLrM+p9Cy+Z2w7RvbDVjwq+TBDw8TfkIwA1ecgPLam0Gsqq8iYj6vWWT6WHdKm04lgjk1eRKJn6xUpG8OWM5K7xYq0HmNKVY2+u4mG8U7d+OJQK5lHIGJOzzYxo3TNs7LHkEQuVTNExbbSf4mSghv4zEDtULvFpGHoGcmrwKxJ95QRMGjIId3jI3zafTvwEvzrSyA5WzBMB0tWGVPq8Q0BSxxxH7etGz0TCdlU1HHHKYEQKavAGgh/yhlhmm/a5HIK/K9zPRZvHZBa3sNUsbowjkVeXxRjYMLAThqkpOIDI13Mhet+znosYc1ZIPSWBvcSHmft1yXqkQ0JTHGFjrEWAs7bXsgSiwnKoUQNCi7GL1M0zDstNRtqOqco1E2FGpdKzWTXvd/4RACyU0qio3NcqYBF4MonsqJcSvu6CGx8Ney/4wcgbqldBx/yM+7pfR0INszDDtOVHTGdU/M8uocgBAj1eV/n4ouJWodZKEjD5m56KCbNTfaQL5HsVgF1l/zFqSawQmnUGZlxuW89qxRCCnyveByDtTBM/oNQIjKXlhQqKfPAPCB3rBDgpNTXPp+AyklW3MuFkEUnb53HlFx3swTj7QpJWfmOEdFpjc89tR3TpJQKh3xNL3fnKH9YJ9bjWjkwjkVPkuEHniqpAOdcu+tenU+w4+Ae8YCOat7ZzI8qryfk16ZL7bsBwhc3pt6qFelXeB6KIKW7qi0xJiswnxJEfmL/1EDBmWc3EQYzpV4noA2ysO2Fdm+5KZkhKjyAipMUHKzoBeeoNh2h83JCA686ryaVVGZ/DujOlcGDXYTPRnNfm7qk4qZHfdsq8NjzOtMifuAia6ykJarMrp/7nAFdJHx7smEoumuzOoK+76dwJfH2XMrxmms3wmMh3GzGnyqwDdV/3eBV1W766gobw+5W4A+KEscf+8MefXmSAy0iOfmXC9g9V5VfyoO4LIC46cpggtRmgy1fYPE63JFEovdJJENp18hJifAnBiAPdGw7QrC0qdFklA+GVTyumShG0MzKvhMA8xpHUZqzTYDpGsmlxCcB+rLt0Ci4AR18UtmaL9exR2LAIeidk4mRKKUK2vC4FuJ6YfmfnbuFqS0HiI6FImXlRV2wKYn3DZ7suM46+o4H2yccyO2uQ05Xow9wczFkAogrAHzGMupIJ49/qIeiS4afEOhtD4Kzf4wcY8BKLN4XU+KrrYMxAGEtsOBvURVfZOrTZmDBN4S3B70AxWywSqg+zXlF6XaQkTLwEgXnHaIDENSsSDc017NI5DPZu2CYSB988+ITXR5ajEUoq48mcPJi4yucWuCdmaO35YaLAdax0n0LHIYgL9C3BgLF79ZBTWAAAAAElFTkSuQmCC"},f6S4:function(t,e){},k5k9:function(t,e){},lQ19:function(t,e,a){t.exports=a.p+"lightspace/img/wearboy.5a9bc71.png"},qTPy:function(t,e,a){t.exports=a.p+"lightspace/img/weargirl.4ee2ff3.png"},rNuS:function(t,e){},tvR6:function(t,e){},vMRx:function(t,e,a){t.exports=a.p+"lightspace/img/boy.993fa8f.png"},vPes:function(t,e){},x7P0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1bf3a5c1a0394af67b2f.js.map