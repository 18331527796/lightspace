webpackJsonp([1],{"106u":function(e,t){},"2dbW":function(e,t){},Avtb:function(e,t){},Ijdk:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},s,!1,function(e){a("o8nZ")},null,null).exports,l=a("/ocq"),n=a("mtWM"),o=a.n(n),d={data:function(){return{menuList:[],activeIndex:"/home",role:""}},methods:{saveNavState:function(e){this.activeIndex=e,console.log(this.activeIndex)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"home-container"},[a("el-aside",{staticStyle:{"min-height":"100vh"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,"background-color":"#333744","text-color":"#fff","active-text-color":"#409eff",router:"","unique-opened":!0,"collapse-transition":!1}},[a("el-submenu",{attrs:{index:"/nocheck"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-custom"}),e._v(" "),a("span",[e._v("价格表")])]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/labelsetting"}},[a("i",{staticClass:"el-icon-star-on"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("标签设置")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/seriessetting"}},[a("i",{staticClass:"el-icon-star-on"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("系列设置")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/glassessetting"}},[a("i",{staticClass:"el-icon-star-on"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("产品设置")])])],1)],2),e._v(" "),a("el-menu-item",{attrs:{index:"/user"}},[a("i",{staticClass:"el-icon-document"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("账号设置")])])],1)],1),e._v(" "),a("el-main",[a("router-view")],1)],1)},staticRenderFns:[]};var u=a("VU/8")(d,c,!1,function(e){a("Ijdk")},"data-v-7a40b10c",null).exports,h=a("Xxa5"),m=a.n(h),p=a("exGp"),f=a.n(p),b={name:"login",data:function(){return{loginForm:{loginname:"",password:""},loginFormRules:{loginname:[{required:!0,message:"请输入姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{resetForm:function(e){this.$refs.loginFormRef.resetFields()},submitForm:function(){var e,t=this;this.$refs.loginFormRef.validate((e=f()(m.a.mark(function e(a){var i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",t.$message.error("请输入正确的账号密码"));case 2:(i=new URLSearchParams).append("loginname",t.loginForm.loginname),i.append("password",t.loginForm.password),o()({method:"post",url:"/lightspace/priceclient/loginPrice",data:i}).then(t.handleLoginSucc.bind(t)).catch(t.handleLoginErr.bind(t));case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},handleLoginSucc:function(e){if(200!==e.status)return this.$message.error("登录失败");console.log(e),this.$message.success("登录成功"),this.$router.push("/home")},handleLoginErr:function(e){this.$message.error("账号密码不存在"),console.log(e,e.msg)},home:function(){this.$router.push("/home")}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_container"},[a("el-row",{staticStyle:{flex:"1"}},[a("el-col",{attrs:{span:10,offset:7}},[a("div",{staticClass:"login_box"},[a("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules}},[a("el-form-item",{staticClass:"userLogin"},[e._v(" 用户登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.loginForm.loginname,callback:function(t){e.$set(e.loginForm,"loginname",t)},expression:"loginForm.loginname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("el-form-item",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("登录")])],1)],1)],1)])],1),e._v(" "),a("div",{staticStyle:{background:"#0652A1",height:"50px",width:"100%"}})],1)},staticRenderFns:[]};var v=a("VU/8")(b,g,!1,function(e){a("Q6Mh")},null,null).exports,L=a("bOdI"),_=a.n(L),F={name:"Label",data:function(){var e;return e={id:"",token:"",query:"",currentPage:1,pageSize:5,total:0,options:[],LabelList:[],content:[],editDialogVisible:!1,addDialogVisible:!1,tea_cat:[],addLabelForm:{name:"",path:""},page:1,size:5},_()(e,"total",0),_()(e,"totalElements",0),_()(e,"number",1),_()(e,"addLabelRules",{name:[{required:!0,message:"请输入标签名",trigger:"blur"}],path:[{required:!0,message:"请输入标签路径",trigger:"blur"}]}),_()(e,"editLabelForm",{name:"",path:""}),_()(e,"editLabelRules",{name:[{required:!0,message:"请输入标签名",trigger:"blur"}],path:[{required:!0,message:"请输入标签路径",trigger:"blur"}]}),e},created:function(){this.getLabelList()},methods:{submitLabel:function(){var e=this;this.$refs.addLabelRef.validate(function(t){if(t){var a=new URLSearchParams;a.append("name",e.addLabelForm.name),a.append("path",e.addLabelForm.path),a.append("token",e.token),o()({method:"post",url:"/lightspace/addLabel",data:a}).then(e.handleAddLabelSucc.bind(e)).catch(e.handleAddLabelErr.bind(e))}})},handleAddLabelSucc:function(e){10204===e.data.status?this.$message.error(e.data.msg):10206==e.data.status?(this.$message.error(e.data.msg),this.addLabelForm.schoolName=""):200==e.status&&(this.addDialogVisible=!1,this.$message.success("添加标签成功"),this.$refs.addLabelRef.resetFields(),this.getLabelList())},handleAddLabelErr:function(e){console.log(e)},addLabel:function(){this.addDialogVisible=!0},handleClose:function(){this.addDialogVisible=!1,this.$refs.addLabelRef.resetFields()},getLabelList:function(){var e=new URLSearchParams;o()({method:"post",data:e,url:"/lightspace/labelList"}).then(this.handleGetLabelListSucc.bind(this)).catch(this.handleGetLabelErr.bind(this))},handleGetLabelListSucc:function(e){200==e.data.status&&""!==e.data.data&&(this.content=e.data.data)},handleGetLabelErr:function(e){console.log(e)},showEditDialog:function(e){this.id=e,this.editDialogVisible=!0;var t=new URLSearchParams;t.append("id",e),o()({method:"post",url:"/lightspace/editLabel",data:t}).then(this.handleEditLabelSucc.bind(this)).catch(this.handleEditLabelErr.bind(this))},handleEditLabelSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):200==e.data.status&&(this.editLabelForm=e.data.data)},handleEditLabelErr:function(e){console.log(e)},editDialogClosed:function(){this.$refs.editLabelRef.resetFields()},editLabelInfo:function(){var e=this;this.$refs.editLabelRef.validate(function(t){if(t){var a=new URLSearchParams;a.append("name",e.editLabelForm.name),a.append("path",e.editLabelForm.path),a.append("id",e.id),o()({method:"post",url:"/lightspace/saveLabel",data:a}).then(e.handleEditSaveLabelSucc.bind(e)).catch(e.handleEditSaveLabelErr.bind(e))}})},handleEditSaveLabelSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):200==e.data.status&&(this.editDialogVisible=!1,this.$message.success("更新信息成功"),this.getLabelList(this.page))},handleEditSaveLabelErr:function(e){console.log(e)},removeLabelById:function(e){var t=this;return f()(m.a.mark(function a(){var i;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该标签, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if("confirm"===a.sent){a.next=5;break}return a.abrupt("return",t.$message.info("已经取消删除"));case 5:(i=new URLSearchParams).append("id",e),o()({method:"post",url:"/lightspace/deleteLabel",data:i}).then(t.handleDeleteLabelSucc.bind(t)).catch(t.handleDeleteLabelErr.bind(t));case 8:case"end":return a.stop()}},a,t)}))()},handleDeleteLabelSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):200==e.data.status&&(this.$message.success("删除标签成功"),this.getLabelList())},handleDeleteLabelErr:function(e){console.log(e)}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("价格表")]),e._v(" "),a("el-breadcrumb-item",[e._v("标签设置")])],1),e._v(" "),a("el-card",{staticStyle:{margin:"20px 0"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addLabel}},[e._v("新增标签")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{data:this.content,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"标签名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"标签路径",prop:"path"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"middle",icon:"el-icon-edit"},on:{click:function(a){return e.showEditDialog(t.row.id)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"middle",icon:"el-icon-delete"},on:{click:function(a){return e.removeLabelById(t.row.id)}}})]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加标签",visible:e.addDialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addLabelRef",attrs:{model:e.addLabelForm,rules:e.addLabelRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[a("el-input",{model:{value:e.addLabelForm.name,callback:function(t){e.$set(e.addLabelForm,"name",t)},expression:"addLabelForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签路径",prop:"path"}},[a("el-input",{model:{value:e.addLabelForm.path,callback:function(t){e.$set(e.addLabelForm,"path",t)},expression:"addLabelForm.path"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitLabel}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改标签信息",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClosed}},[a("el-form",{ref:"editLabelRef",attrs:{model:e.editLabelForm,rules:e.editLabelRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[a("el-input",{model:{value:e.editLabelForm.name,callback:function(t){e.$set(e.editLabelForm,"name",t)},expression:"editLabelForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签路径",prop:"path"}},[a("el-input",{model:{value:e.editLabelForm.path,callback:function(t){e.$set(e.editLabelForm,"path",t)},expression:"editLabelForm.path"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.editLabelInfo}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(F,w,!1,function(e){a("106u")},null,null).exports,$={created:function(){this.getSeriesList(),this.getOPtions()},data:function(){return{token:"",seriesList:[],fileList:[],labelId:"",options:"",addDialogVisible:!1,file:"",addForm:{name:"",label:"",file:""},addRules:{label:[{required:!0,message:"请选择所属标签",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],file:{required:!0,message:"选择图片",trigger:"blur"}}}},methods:{handleChange:function(e){this.addForm.label=e,this.labelId=e},handleUpload:function(e){this.addForm.file=e.file},submitCoparation:function(){var e=this;this.$refs.addFormRef.validate(function(t){if(t){e.$refs.upload.submit();var a=new FormData;if(!e.addForm.file)return e.$message.error("请添加图片");a.append("name",e.addForm.name),a.append("file",e.addForm.file),a.append("labelId",e.labelId),o()({method:"post",url:"/lightspace/addSeries",data:a,headers:{"Content-Type":"multipart/form-data"}}).then(e.handleAddSucc.bind(e)).catch(e.handleAddErr.bind(e))}})},handleAddSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):10206==e.data.status?(this.$message.error(e.data.msg),this.addTeacherForm.schoolName=""):200==e.status&&(this.addDialogVisible=!1,this.$message.success("添加成功"),this.$refs.addFormRef.resetFields(),this.$refs.upload.clearFiles(),this.getSeriesList())},handleAddErr:function(e){console.log(e)},addCooparataion:function(){this.addDialogVisible=!0},handleClose:function(){this.addDialogVisible=!1,this.$refs.addFormRef.resetFields()},getSeriesList:function(){var e=new URLSearchParams;o()({method:"post",data:e,url:"/lightspace/seriesList"}).then(this.handleCoListSucc.bind(this)).catch(this.handleCoListErr.bind(this))},handleCoListSucc:function(e){200==e.data.status&&(this.seriesList=e.data.data)},handleCoListErr:function(e){console.log(e)},addTeacher:function(){},removeById:function(e){var t=this;return f()(m.a.mark(function a(){var i;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该系列, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if("confirm"===a.sent){a.next=5;break}return a.abrupt("return",t.$message.info("已经取消删除"));case 5:(i=new URLSearchParams).append("id",e),o()({method:"post",url:"/lightspace/deleteSeries",data:i}).then(t.handleDeleteSucc.bind(t)).catch(t.handleDeleteErr.bind(t));case 8:case"end":return a.stop()}},a,t)}))()},handleDeleteSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):200==e.data.status&&(this.$message.success("删除成功"),this.getSeriesList())},handleDeleteErr:function(e){console.log(e)},getOPtions:function(){var e=new URLSearchParams;o()({method:"post",url:"/lightspace/labelList",data:e}).then(this.handleGetOptionSucc.bind(this)).catch(this.handleGetOptionErr.bind(this))},handleGetOptionSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):200==e.data.status&&(this.options=e.data.data)},handleGetOptionErr:function(e){console.log(e)}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("价格表")]),e._v(" "),a("el-breadcrumb-item",[e._v("系列设置")])],1),e._v(" "),a("el-card",{staticStyle:{margin:"20px 0"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addCooparataion}},[e._v("添加系列")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{data:this.seriesList,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"系列名称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"图片",prop:"imgurl","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{"min-height":"70",height:"70","border-radius":"20px"},attrs:{src:e.row.introduce,fit:"contain"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"details"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"middle",icon:"el-icon-delete"},on:{click:function(a){return e.removeById(t.row.id)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加系列",visible:e.addDialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属标签",prop:"label"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.addForm.label,callback:function(t){e.$set(e.addForm,"label",t)},expression:"addForm.label"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"系列名称",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{ref:"upload",attrs:{action:"/as",limit:1,"list-type":"picture-card","http-request":e.handleUpload,"auto-upload":!1}},[a("i",{staticClass:"el-icon-plus"})])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitCoparation}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var k=a("VU/8")($,y,!1,function(e){a("Avtb")},null,null).exports,x={created:function(){this.getproductSeriesList(),this.getOPtions()},data:function(){return{token:"",series:"",radio:"1",productSeriesList:[],fileList:[],labelId:"",productId:"",options:"",addDialogVisible:!1,file:"",seriesOptions:[],addForm:{name:"",label:"",file:"",token:"",type:1},addRules:{type:[{required:!0,message:"请选择所属类型",trigger:"blur"}],label:[{required:!0,message:"请选择所属标签",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],file:{required:!0,message:"选择图片",trigger:"blur"}}}},methods:{getType:function(e){console.log(e),this.addForm.type=e},handleSeriousChange:function(e){this.productId=e},handleChange:function(e){this.addForm.label=e,this.labelId=e,this.getSeriousProduct()},getSeriousProduct:function(){var e=new FormData;e.append("id",this.labelId),o()({method:"post",data:e,url:"/lightspace/findSeriesBylabel"}).then(this.handleGetProductByLabelId.bind(this)).catch(function(e){console.log(e)})},handleGetProductByLabelId:function(e){e.data.data&&(this.seriesOptions=e.data.data)},handleUpload:function(e){this.addForm.file=e.file},submitCoparation:function(){var e=this;this.$refs.addFormRef.validate(function(t){if(t){e.$refs.upload.submit();var a=new FormData;if(!e.addForm.file)return e.$message.error("请添加图片");a.append("type",e.addForm.type),a.append("file",e.addForm.file),a.append("seriesId",e.productId),o()({method:"post",url:"/lightspace/addSeriesProduct",data:a,headers:{"Content-Type":"multipart/form-data"}}).then(e.handleAddSucc.bind(e)).catch(e.handleAddErr.bind(e))}})},handleAddSucc:function(e){console.log(e),10204===e.data.status?this.$message.error(e.data.msg):10206==e.data.status?(this.$message.error(e.data.msg),this.addTeacherForm.schoolName=""):200==e.status&&(this.addDialogVisible=!1,this.$message.success("添加成功"),this.$refs.addFormRef.resetFields(),this.$refs.upload.clearFiles(),this.getproductSeriesList())},handleAddErr:function(e){console.log(e)},addSeriesProduct:function(){this.addDialogVisible=!0},handleClose:function(){this.addDialogVisible=!1,this.$refs.addFormRef.resetFields()},getproductSeriesList:function(){var e=new URLSearchParams;o()({method:"post",data:e,url:"/lightspace/seriesProductList"}).then(this.handleCoListSucc.bind(this)).catch(this.handleCoListErr.bind(this))},handleCoListSucc:function(e){200==e.data.status&&(this.productSeriesList=e.data.data)},handleCoListErr:function(e){console.log(e)},addTeacher:function(){},removeById:function(e){var t=this;return f()(m.a.mark(function a(){var i;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该系列, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if("confirm"===a.sent){a.next=5;break}return a.abrupt("return",t.$message.info("已经取消删除"));case 5:(i=new URLSearchParams).append("id",e),o()({method:"post",url:"/lightspace/deleteSeriesProduct",data:i}).then(t.handleDeleteSucc.bind(t)).catch(t.handleDeleteErr.bind(t));case 8:case"end":return a.stop()}},a,t)}))()},handleDeleteSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):200==e.data.status&&(this.$message.success("删除成功"),this.getproductSeriesList())},handleDeleteErr:function(e){console.log(e)},getOPtions:function(){var e=new URLSearchParams;e.append("token",this.token),o()({method:"post",url:"/lightspace/labelList",data:e}).then(this.handleGetOptionSucc.bind(this)).catch(this.handleGetOptionErr.bind(this))},handleGetOptionSucc:function(e){10204===e.data.status?(this.$message.error(e.data.msg),this.$router.push("/login")):200==e.data.status&&(this.options=e.data.data)},handleGetOptionErr:function(e){console.log(e)}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("产品设置")]),e._v(" "),a("el-breadcrumb-item",[e._v("系列产品")])],1),e._v(" "),a("el-card",{staticStyle:{margin:"20px 0"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addSeriesProduct}},[e._v("添加产品")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{data:this.productSeriesList,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"系列名称",prop:"seriesName"}}),e._v(" "),a("el-table-column",{attrs:{label:"图片",prop:"imgurl","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{"min-height":"70",height:"70"},attrs:{src:e.row.pic,fit:"contain"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"details"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"middle",icon:"el-icon-delete"},on:{click:function(a){return e.removeById(t.row.id)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加产品",visible:e.addDialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属类型",prop:"type"}},[a("el-radio",{attrs:{label:"1"},on:{change:e.getType},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("价格图片")]),e._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:e.getType},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("详情图片")])],1),e._v(" "),a("el-form-item",{attrs:{label:"所属标签",prop:"label"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.addForm.label,callback:function(t){e.$set(e.addForm,"label",t)},expression:"addForm.label"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属系列",prop:"label"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleSeriousChange},model:{value:e.series,callback:function(t){e.series=t},expression:"series"}},e._l(e.seriesOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{ref:"upload",attrs:{action:"/as",limit:1,"list-type":"picture-card","http-request":e.handleUpload,"auto-upload":!1}},[a("i",{staticClass:"el-icon-plus"})])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitCoparation}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var C=a("VU/8")(x,E,!1,function(e){a("V+EW")},null,null).exports,R={data:function(){return{showEditDialog:!1,editForm:{oldPassword:"",newPassword:""},editRules:{oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}]}}},methods:{showEdit:function(){this.showEditDialog=!0},handleClose:function(){this.showEditDialog=!1,this.$refs.editFormRef.resetFields()},submitChange:function(){var e=this;this.$refs.editFormRef.validate(function(t){if(t){var a=new FormData;a.append("oldPassword",e.editForm.oldPassword),a.append("newPassword",e.editForm.newPassword),o()({method:"post",data:a,url:"/lightspace/priceclient/changePassword"}).then(e.handleChangeWordSucc.bind(e)).catch(function(e){console.log(e)})}})},handleChangeWordSucc:function(e){200==e.data.status?(this.showEditDialog=!1,this.$refs.editFormRef.resetFields(),this.$message.success("修改成功")):this.$message.error(e.data.msg)}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{margin:"20px 0"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showEdit}},[e._v("修改密码")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加系列",visible:e.showEditDialog,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.showEditDialog=t}}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.editRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{model:{value:e.editForm.oldPassword,callback:function(t){e.$set(e.editForm,"oldPassword",t)},expression:"editForm.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{model:{value:e.editForm.newPassword,callback:function(t){e.$set(e.editForm,"newPassword",t)},expression:"editForm.newPassword"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showEditDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitChange}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var P=a("VU/8")(R,D,!1,function(e){a("2dbW")},null,null).exports;i.default.use(l.a);var V=new l.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:v},{path:"/home",component:u,children:[{path:"/labelsetting",component:S},{path:"/seriessetting",component:k},{path:"/glassessetting",component:C},{path:"/user",component:P}]}]}),I=a("zL8q"),U=a.n(I);a("tvR6");i.default.config.productionTip=!1,i.default.use(U.a),new i.default({el:"#app",router:V,components:{App:r},template:"<App/>"})},Q6Mh:function(e,t){},"V+EW":function(e,t){},o8nZ:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ac88f5a2d67b4c29129a.js.map