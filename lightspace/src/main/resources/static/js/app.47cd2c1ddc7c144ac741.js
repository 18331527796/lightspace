webpackJsonp([1],{"+/TY":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"App"},s,!1,function(t){i("ymcE")},null,null).exports,a=i("zL8q"),c=i.n(a),n=i("/ocq"),l=i("mtWM"),h=i.n(l),d={created:function(){this.getMenuList()},data:function(){return{isCollapse:!1,activeIndex:"/singleFocus",menuList:[]}},methods:{goto:function(t){window.localStorage.setItem("labelId",t)},getMenuList:function(){var t=new FormData;h()({method:"post",url:"/lightspace/priceclient/getAllLabel",data:t}).then(this.handleGetMenuSucc.bind(this)).catch(function(t){console.log(t)})},handleGetMenuSucc:function(t){200==t.data.status&&(this.menuList=t.data.data)},toggleCollapse:function(){this.isCollapse=!this.isCollapse},saveNavState:function(t,e){this.activeIndex=e,this.$store.commit("changeLabel",t),window.sessionStorage.setItem("labelId",t)}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",{staticClass:"home-container"},[i("el-aside",{staticStyle:{"min-height":"100vh"},attrs:{width:t.isCollapse?"0.64rem":"2rem"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,"background-color":"#333744","text-color":"#fff","active-text-color":"#409eff",router:"","unique-opened":!0,collapse:t.isCollapse,"collapse-transition":!1}},t._l(t.menuList,function(e){return i("el-menu-item",{key:e.id,attrs:{index:"/"+e.path},on:{click:function(i){return t.saveNavState(e.id,"/"+e.path)}}},[i("i",{staticClass:"el-icon-set-up"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])}),1)],1),t._v(" "),i("el-main",[i("router-view")],1)],1)],1)},staticRenderFns:[]};var u=i("VU/8")(d,m,!1,function(t){i("tO+F")},"data-v-1db8535a",null).exports,p={created:function(){var t=window.localStorage.getItem("labelId");window.localStorage.getItem("selectArr")&&(this.selectedArr=window.localStorage.getItem("selectArr").split(",")),t||(t=3),this.getSeries(t)},data:function(){return{checked:!0,num:0,selectedOne:"",seriesList:[],selectedArr:[],disable:!1}},watch:{labelId:function(t,e){t!==e&&this.getSeries(t)}},computed:{labelId:function(){return this.$store.state.labelId}},methods:{seeDifferent:function(){if(window.localStorage.getItem("selectArr")&&(this.selectedArr=window.localStorage.getItem("selectArr").split(",")),3==this.selectedArr.length){var t=this.$router.resolve({path:"/different",query:{one:this.selectedArr[0],two:this.selectedArr[1],three:this.selectedArr[2]}});window.open(t.href,"_blank"),this.clearChoose()}else if(2==this.selectedArr.length){var e=this.$router.resolve({path:"/different",query:{one:this.selectedArr[0],two:this.selectedArr[1]}});window.open(e.href,"_blank"),this.clearChoose()}else this.$message.error({message:"至少选择2个系列做对比",duration:1e3})},clearChoose:function(){this.$router.go(0),this.disable=!1,window.localStorage.removeItem("selectArr")},getChooseItem:function(t,e){var i=this;this.seriesList.forEach(function(o,s){o.id==t&&(o.checked=!e,o.checked&&i.selectedArr.push(o.id))}),1==this.selectedArr.length&&window.sessionStorage.setItem("oneSelected",this.selectedArr[0]),this.disable=this.selectedArr.length>=3},openFullScreen:function(){return this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"})},closeFullScreen:function(t){t.close()},getSeries:function(t){this.openFullScreen();var e=new FormData;e.append("id",t),h()({method:"post",url:"/lightspace/priceclient/getSeriesByLabel",data:e}).then(this.handleGetSeriesSucc.bind(this)).catch(function(t){console.log(t)})},handleGetSeriesSucc:function(t){t.data.data&&(this.closeFullScreen(this.openFullScreen()),this.seriesList=t.data.data)},gotoDetail:function(t){var e=this.$router.resolve({path:"/detail",query:{id:t}});window.open(e.href,"_blank")}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-row",{staticStyle:{"margin-bottom":".2rem"}},[i("el-col",{attrs:{span:6,offset:18}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.seeDifferent}},[t._v("查看对比")]),t._v(" "),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.clearChoose}},[t._v("清空选项")])],1)],1),t._v(" "),i("div",{staticClass:"seriesWrap"},t._l(t.seriesList,function(e){return i("div",{key:e.id,staticClass:"itemWrap"},[i("el-image",{staticClass:"imgBox",staticStyle:{"border-radius":".2rem"},attrs:{src:e.introduce,fit:"contain"},on:{click:function(i){return t.gotoDetail(e.id)}}}),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(e.name))])],1)}),0)],1)},staticRenderFns:[]};var _=i("VU/8")(p,v,!1,function(t){i("PjyJ")},"data-v-1653a86f",null).exports,f={created:function(){var t=this;this.id=this.$router.history.current.query.id,this.getSwiper(),window.localStorage.getItem("selectArr")&&(this.selectedArr=window.localStorage.getItem("selectArr").split(","),this.selectedArr&&(this.disable=this.selectedArr.length>=3)),this.$nextTick(function(){t.bannerH=.8*document.body.clientHeight,t.bannerW=.8*document.body.clientHeight/2*3})},watch:{getSelectNum:function(){this.selectedArr=window.localStorage.getItem("selectArr").split(",")}},mounted:function(){var t=this;window.addEventListener("resize",function(){t.setBannerH()},!1)},data:function(){return{id:"",disable:!1,swiperList:[],bannerH:0,bannerW:0,selectedArr:[],addLightBelow:!1,customPrice:!1}},methods:{getChooseItem:function(t,e){var i=this;this.swiperList.forEach(function(o,s){if(o.id==t){if(o.checked=!e,o.checked)i.selectedArr.push(o.id),localStorage.setItem("selectArr",i.selectedArr);else{var r=i.selectedArr.indexOf(o.id);i.selectedArr.splice(r,1)}i.disable=i.selectedArr.length>=3}})},goBack:function(){window.close()},openFullScreen:function(){return this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"})},closeFullScreen:function(t){t.close()},setBannerH:function(){this.bannerH=.8*document.body.clientHeight,this.bannerW=.8*document.body.clientHeight/2*3},getSwiper:function(){this.openFullScreen();var t=new FormData;t.append("seriesId",this.id),h()({method:"post",url:"/lightspace/priceclient/findGlassesBySeries",data:t}).then(this.handleGetSwiperSucc.bind(this)).catch(function(t){console.log(t)})},handleGetSwiperSucc:function(t){var e=this;this.closeFullScreen(this.openFullScreen()),200==t.data.status&&(this.swiperList=t.data.data,this.swiperList.forEach(function(t,i){t.addLightBelow&&(e.addLightBelow=!0),t.customPrice&&(e.customPrice=!0),t.photometric2.length&&(t.photometric2[3]=2*t.photometric2[2]/t.benchmark,t.photometric2[4]=2*t.photometric2[2]/t.benchmark+.4),t.photometric1.length&&(t.photometric1[3]=.6*t.photometric1[2]/-15),t.photometric3.length&&(t.photometric3[3]=2*(t.photometric3[2]-t.photometric3[0])/-15,t.photometric3[4]=t.photometric3[3]+t.photometric2[3]+.4)}))}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{staticStyle:{margin:".2rem"},attrs:{type:"primary"},on:{click:t.goBack}},[t._v("返回")]),t._v(" "),i("div",{staticClass:"swiperWrap"},[i("div",{staticClass:"box"},[i("div",{staticClass:"title"},[i("div",{staticStyle:{height:".29rem"}}),t._v(" "),i("div",{staticClass:"titleItem"},[t._v("产品名称")]),t._v(" "),i("div",{staticClass:"titleItem"},[t._v("折射率")]),t._v(" "),i("div",{staticClass:"titleItem"},[t._v("阿贝数")]),t._v(" "),i("div",{staticClass:"titleItem"},[t._v("膜层")]),t._v(" "),i("div",{staticClass:"titleItem"},[t._v("隐形标记")]),t._v(" "),i("div",{staticClass:"titleItem bigTitle"},[t._v("光度范围")]),t._v(" "),t.customPrice?i("div",{staticClass:"titleItem"},[t._v("现片价")]):t._e(),t._v(" "),t.addLightBelow?i("div",{staticClass:"titleItem"},[t._v("下加光")]):t._e(),t._v(" "),i("div",{staticClass:"titleItem"},[t._v("定制价")])]),t._v(" "),t._l(t.swiperList,function(e,o){return i("div",{staticClass:"title",staticStyle:{flex:"1",height:"4rem"}},[i("el-checkbox",{attrs:{checked:e.checked,disabled:t.disable},on:{change:function(i){return t.getChooseItem(e.id,e.checked)}}},[t._v("选择对比")]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#00aaff",color:"#fff"}},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#bab9bf"}},[t._v(t._s(e.refractive))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#9ba2ab"}},[t._v(t._s(e.abbe))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#bab9bf"}},[t._v(t._s(e.film))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#9ba2ab"}},[t._v(t._s(e.covert))]),t._v(" "),i("div",{staticClass:"titleItem bigTitle",staticStyle:{background:"#bab9bf","flex-direction":"row"}},[i("div",{staticClass:"leftWrap",staticStyle:{position:"relative"},style:{height:2.5+e.photometric1[3]+"rem"}},[e.photometric1.length?i("div",{staticStyle:{position:"absolute",top:"-.2rem",right:"0"}},[t._v(t._s(e.photometric1[0])+"D")]):t._e(),t._v(" "),e.photometric2.length?i("div",{staticStyle:{position:"absolute",right:"0",top:"0.4rem"}},[t._v(t._s(e.photometric2[0])+"D")]):t._e(),t._v(" "),i("div",{staticStyle:{position:"absolute",right:"0",top:"0.8rem"}},[t._v("0.00D")]),t._v(" "),e.photometric2.length?i("div",{staticStyle:{position:"absolute",right:"0"},style:{top:e.photometric2[4]+"rem"}},[t._v(t._s(e.photometric2[2])+"D")]):t._e(),t._v(" "),e.photometric3.length?i("div",{staticStyle:{position:"absolute",right:"0"},style:{top:e.photometric3[4]+"rem"}},[t._v(t._s(e.photometric3[2])+"D")]):t._e(),t._v(" "),i("div",{staticStyle:{position:"absolute",right:"0",top:"2.41rem"}},[t._v(t._s(e.benchmark)+"D")]),t._v(" "),e.photometric1.length?i("div",{staticStyle:{position:"absolute",right:"0"},style:{top:2.4+e.photometric1[3]+"rem"}},[t._v(t._s(e.photometric1[2])+"D")]):t._e()]),t._v(" "),i("div",{staticClass:"centerWrap",staticStyle:{position:"relative"}},[i("div",{staticClass:"box1"}),t._v(" "),i("div",{staticStyle:{width:"2rem",border:"0.01rem solid red",position:"absolute",top:"1rem"}}),t._v(" "),i("div",{staticClass:"box2"}),t._v(" "),i("div",{staticStyle:{width:"2rem",border:"0.01rem dotted red",position:"absolute",top:"2.5rem"}}),t._v(" "),i("div",{staticClass:"triangle",style:{borderTopWidth:e.photometric1[3]+"rem"}}),t._v(" "),e.photometric2.length?i("div",{staticClass:"twoBox",style:{height:e.photometric2[3]+"rem"}}):t._e(),t._v(" "),e.photometric3.length?i("div",{staticClass:"threeBox",style:{height:e.photometric3[3]+"rem",top:.5+e.photometric2[3]+"rem"}}):t._e(),t._v(" "),e.photometric2.length?i("div",{staticStyle:{position:"absolute",left:"0.33rem",top:"0.8rem"}},[t._v(t._s(e.photometric2[1])+"D")]):t._e()]),t._v(" "),i("div",{staticClass:"leftWrap",staticStyle:{position:"relative"}},[e.photometric1.length?i("div",{staticStyle:{position:"absolute",left:"0.1rem",top:"0.8rem"}},[t._v(t._s(e.photometric1[1])+"D")]):t._e()])]),t._v(" "),e.customPrice?i("div",{staticClass:"titleItem"},[t._v(t._s(e.customPrice))]):t._e(),t._v(" "),e.addLightBelow?i("div",{staticClass:"titleItem",staticStyle:{background:"#9ba2ab"}},[t._v(t._s(e.addLightBelow))]):t._e(),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#00aaff",color:"#fff"}},[t._v(t._s(e.customPrice))])],1)})],2)])],1)},staticRenderFns:[]};var b=i("VU/8")(f,g,!1,function(t){i("fRjA")},"data-v-16760658",null).exports,S={created:function(){this.one=this.$router.history.current.query.one,this.two=this.$router.history.current.query.two,this.$router.history.current.query.three&&(this.three=this.$router.history.current.query.three),this.concatNum=this.one+","+this.two+","+this.three,this.getDifferent()},data:function(){return{one:"",two:"",three:"",concatNum:"",differentList:[],addLightBelow:!1,customPrice:!1}},methods:{goBack:function(){window.close()},openFullScreen:function(){return this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"})},closeFullScreen:function(t){t.close()},getDifferent:function(){this.openFullScreen();var t=new FormData;t.append("glasses",this.one+","+this.two+","+this.three),h()({method:"post",url:"/lightspace/priceclient/contrastGlasses",data:t}).then(this.handleGetDiffrentSucc.bind(this)).catch(function(t){console.log(t)})},handleGetDiffrentSucc:function(t){var e=this;this.closeFullScreen(this.openFullScreen()),t.data.data&&(this.differentList=t.data.data,this.differentList.forEach(function(t,i){t.addLightBelow&&(e.addLightBelow=!0),t.customPrice&&(e.customPrice=!0),t.photometric2.length&&(t.photometric2[3]=2*t.photometric2[2]/t.benchmark,t.photometric2[4]=2*t.photometric2[2]/t.benchmark+.4),t.photometric1.length&&(t.photometric1[3]=.6*t.photometric1[2]/-15),t.photometric3.length&&(t.photometric3[3]=2*(t.photometric3[2]-t.photometric3[0])/-15,t.photometric3[4]=t.photometric3[3]+t.photometric2[3]+.4)}))}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-row",[i("el-col",{attrs:{span:6,offset:9}},[i("div",{staticClass:"compare"},[t._v("价格对比")])])],1),t._v(" "),i("div",{staticClass:"swiperWrap"},[i("div",{staticClass:"box"},t._l(t.differentList,function(e,o){return i("div",{staticClass:"conBox",staticStyle:{flex:"1"}},[i("div",{staticClass:"titleItem",staticStyle:{background:"#00aaff",color:"#fff"}},[t._v(t._s(e.labelName))]),t._v(" "),i("div",{staticClass:"titleItem"},[t._v(t._s(e.seriesName))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#00aaff",color:"#fff"}},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#bab9bf"}},[t._v(t._s(e.refractive))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#9ba2ab"}},[t._v(t._s(e.abbe))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#bab9bf"}},[t._v(t._s(e.film))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#9ba2ab"}},[t._v(t._s(e.covert))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{height:"4rem",background:"#bab9bf","flex-direction":"row"}},[i("div",{staticClass:"leftWrap",staticStyle:{position:"relative"},style:{height:2.5+e.photometric1[3]+"rem"}},[e.photometric1.length?i("div",{staticStyle:{position:"absolute",top:"-.2rem",right:"0"}},[t._v(t._s(e.photometric1[0])+"D")]):t._e(),t._v(" "),e.photometric2.length?i("div",{staticStyle:{position:"absolute",right:"0",top:"0.4rem"}},[t._v(t._s(e.photometric2[0])+"D")]):t._e(),t._v(" "),i("div",{staticStyle:{position:"absolute",right:"0",top:"0.8rem"}},[t._v("0.00D")]),t._v(" "),e.photometric2.length?i("div",{staticStyle:{position:"absolute",right:"0"},style:{top:e.photometric2[4]+"rem"}},[t._v(t._s(e.photometric2[2])+"D")]):t._e(),t._v(" "),e.photometric3.length?i("div",{staticStyle:{position:"absolute",right:"0"},style:{top:e.photometric3[4]+"rem"}},[t._v(t._s(e.photometric3[2])+"D")]):t._e(),t._v(" "),i("div",{staticStyle:{position:"absolute",right:"0",top:"2.41rem"}},[t._v(t._s(e.benchmark)+"D")]),t._v(" "),e.photometric1.length?i("div",{staticStyle:{position:"absolute",right:"0"},style:{top:2.4+e.photometric1[3]+"rem"}},[t._v(t._s(e.photometric1[2])+"D")]):t._e()]),t._v(" "),i("div",{staticClass:"centerWrap",staticStyle:{position:"relative"}},[i("div",{staticClass:"box1"}),t._v(" "),i("div",{staticStyle:{width:"2rem",border:"0.01rem solid red",position:"absolute",top:"1rem"}}),t._v(" "),i("div",{staticClass:"box2"}),t._v(" "),i("div",{staticStyle:{width:"2rem",border:"0.01rem dotted red",position:"absolute",top:"2.5rem"}}),t._v(" "),i("div",{staticClass:"triangle",style:{borderTopWidth:e.photometric1[3]+"rem"}}),t._v(" "),e.photometric2.length?i("div",{staticClass:"twoBox",style:{height:e.photometric2[3]+"rem"}}):t._e(),t._v(" "),e.photometric3.length?i("div",{staticClass:"threeBox",style:{height:e.photometric3[3]+"rem",top:.5+e.photometric2[3]+"rem"}}):t._e(),t._v(" "),e.photometric2.length?i("div",{staticStyle:{position:"absolute",left:"0.33rem",top:"0.8rem"}},[t._v(t._s(e.photometric2[1])+"D")]):t._e()]),t._v(" "),i("div",{staticClass:"leftWrap",staticStyle:{position:"relative"}},[e.photometric1.length?i("div",{staticStyle:{position:"absolute",left:"0.1rem",top:"0.8rem"}},[t._v(t._s(e.photometric1[1])+"D")]):t._e()])]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#9ba2ab"}},[t._v(t._s(e.addLightBelow))]),t._v(" "),i("div",{staticClass:"titleItem",staticStyle:{background:"#00aaff",color:"#fff"}},[t._v(t._s(e.customPrice))])])}),0)])],1)},staticRenderFns:[]};var w=i("VU/8")(S,y,!1,function(t){i("qzLJ")},"data-v-ae7a22e8",null).exports;o.default.use(n.a);var C=new n.a({routes:[{path:"/",redirect:"/singleFocus"},{path:"/detail",component:b},{path:"/different",component:w},{path:"/",component:u,children:[{path:"/singleFocus",component:_},{path:"/life",component:_},{path:"/protect",component:_},{path:"/changeFocus",component:_},{path:"/changeColor",component:_},{path:"/teenagers",component:_},{path:"/sunshine",component:_}]}]}),I=i("NYxO");o.default.use(I.a);var k=new I.a.Store({state:{labelId:""},mutations:{changeLabel:function(t,e){t.labelId=e}}}),A=i("v5o6"),L=i.n(A);i("tvR6"),i("+/TY"),i("VC9Y");o.default.use(c.a),o.default.config.productionTip=!1,L.a.attach(document.body),new o.default({el:"#app",router:C,components:{App:r},template:"<App/>",store:k})},PjyJ:function(t,e){},VC9Y:function(t,e){},fRjA:function(t,e){},qzLJ:function(t,e){},"tO+F":function(t,e){},tvR6:function(t,e){},ymcE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.47cd2c1ddc7c144ac741.js.map